var zp=Object.defineProperty;var Np=(l,a,s)=>a in l?zp(l,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[a]=s;var Mo=(l,a,s)=>Np(l,typeof a!="symbol"?a+"":a,s);import{W as _r,x as Hi,o as Fe,P as gn,Q as Ce,ah as _t,p as Le,Z as zi,w as Ni,S as ki,X as kp,Y as Hp,F as $p,a0 as qp,e as qn,a9 as vt,c as Gi,R as Kp,U as Yp}from"./index-BOzxtiOu.js";import{E as ko}from"./el-button-CAcxPJ-d.js";import{P as Jp}from"./tweakpane-DhSwS92u.js";import"./use-form-item-BSruzjeZ.js";import"./constants-trtOa_5t.js";import"./index-r5W6hzzQ.js";const Xp={class:"container"},Zp={__name:"Basic",setup(l){return Hi(()=>{Cesium.Ion.defaultAccessToken=void 0,Cesium.buildModuleUrl.setBaseUrl("/node_modules/cesium/Build/Cesium/"),new Cesium.Viewer("cesiumContainer")}),(a,s)=>(Fe(),gn("div",Xp,s[0]||(s[0]=[Ce("div",{id:"cesiumContainer"},null,-1)])))}},Qp=_r(Zp,[["__scopeId","data-v-6c22e136"]]),Vp=(l,a)=>{let s=[];for(let h=0;h<360;h+=2)s.push(jp(l[0],l[1],h,a));return s},jp=(l,a,s,h)=>{let v=h*Math.sin(s*Math.PI/180),y=h*Math.cos(s*Math.PI/180),E=6356725+21412*(90-a)/90,R=E*Math.cos(a*Math.PI/180),W=(v/R+l*Math.PI/180)*180/Math.PI,he=(y/E+a*Math.PI/180)*180/Math.PI;return[W,he]};function Ao(l){return Cesium.Cartographic.fromCartesian(l).height}function e1(l){let a=Cesium.Cartographic.fromCartesian(l);return[Cesium.Math.toDegrees(a.longitude),Cesium.Math.toDegrees(a.latitude),a.height]}var pr={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */pr.exports;(function(l,a){(function(){var s,h="4.17.21",v=200,y="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",E="Expected a function",R="Invalid `variable` option passed into `_.template`",W="__lodash_hash_undefined__",he=500,ge="__lodash_placeholder__",Y=1,Mn=2,nn=4,An=1,mt=2,ye=1,pn=2,qi=4,Ue=8,Sn=16,Ge=32,In=64,$e=128,Yn=256,vr=512,$o=30,qo="...",Ko=800,Yo=16,Ki=1,Jo=2,Xo=3,dn=1/0,tn=9007199254740991,Zo=17976931348623157e292,wt=NaN,ze=4294967295,Qo=ze-1,Vo=ze>>>1,jo=[["ary",$e],["bind",ye],["bindKey",pn],["curry",Ue],["curryRight",Sn],["flip",vr],["partial",Ge],["partialRight",In],["rearg",Yn]],Rn="[object Arguments]",Ct="[object Array]",ea="[object AsyncFunction]",Jn="[object Boolean]",Xn="[object Date]",na="[object DOMException]",yt="[object Error]",xt="[object Function]",Yi="[object GeneratorFunction]",Pe="[object Map]",Zn="[object Number]",ta="[object Null]",qe="[object Object]",Ji="[object Promise]",ra="[object Proxy]",Qn="[object RegExp]",De="[object Set]",Vn="[object String]",Tt="[object Symbol]",ia="[object Undefined]",jn="[object WeakMap]",sa="[object WeakSet]",et="[object ArrayBuffer]",Ln="[object DataView]",mr="[object Float32Array]",wr="[object Float64Array]",Cr="[object Int8Array]",yr="[object Int16Array]",xr="[object Int32Array]",Tr="[object Uint8Array]",Er="[object Uint8ClampedArray]",Mr="[object Uint16Array]",Ar="[object Uint32Array]",ua=/\b__p \+= '';/g,oa=/\b(__p \+=) '' \+/g,aa=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Xi=/&(?:amp|lt|gt|quot|#39);/g,Zi=/[&<>"']/g,la=RegExp(Xi.source),fa=RegExp(Zi.source),ca=/<%-([\s\S]+?)%>/g,ha=/<%([\s\S]+?)%>/g,Qi=/<%=([\s\S]+?)%>/g,ga=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pa=/^\w*$/,da=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Sr=/[\\^$.*+?()[\]{}|]/g,_a=RegExp(Sr.source),Ir=/^\s+/,va=/\s/,ma=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,wa=/\{\n\/\* \[wrapped with (.+)\] \*/,Ca=/,? & /,ya=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,xa=/[()=,{}\[\]\/\s]/,Ta=/\\(\\)?/g,Ea=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Vi=/\w*$/,Ma=/^[-+]0x[0-9a-f]+$/i,Aa=/^0b[01]+$/i,Sa=/^\[object .+?Constructor\]$/,Ia=/^0o[0-7]+$/i,Ra=/^(?:0|[1-9]\d*)$/,La=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Et=/($^)/,Pa=/['\n\r\u2028\u2029\\]/g,Mt="\\ud800-\\udfff",Da="\\u0300-\\u036f",ba="\\ufe20-\\ufe2f",Oa="\\u20d0-\\u20ff",ji=Da+ba+Oa,es="\\u2700-\\u27bf",ns="a-z\\xdf-\\xf6\\xf8-\\xff",Wa="\\xac\\xb1\\xd7\\xf7",Ba="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Fa="\\u2000-\\u206f",Ua=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ts="A-Z\\xc0-\\xd6\\xd8-\\xde",rs="\\ufe0e\\ufe0f",is=Wa+Ba+Fa+Ua,Rr="['’]",Ga="["+Mt+"]",ss="["+is+"]",At="["+ji+"]",us="\\d+",za="["+es+"]",os="["+ns+"]",as="[^"+Mt+is+us+es+ns+ts+"]",Lr="\\ud83c[\\udffb-\\udfff]",Na="(?:"+At+"|"+Lr+")",ls="[^"+Mt+"]",Pr="(?:\\ud83c[\\udde6-\\uddff]){2}",Dr="[\\ud800-\\udbff][\\udc00-\\udfff]",Pn="["+ts+"]",fs="\\u200d",cs="(?:"+os+"|"+as+")",ka="(?:"+Pn+"|"+as+")",hs="(?:"+Rr+"(?:d|ll|m|re|s|t|ve))?",gs="(?:"+Rr+"(?:D|LL|M|RE|S|T|VE))?",ps=Na+"?",ds="["+rs+"]?",Ha="(?:"+fs+"(?:"+[ls,Pr,Dr].join("|")+")"+ds+ps+")*",$a="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",qa="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",_s=ds+ps+Ha,Ka="(?:"+[za,Pr,Dr].join("|")+")"+_s,Ya="(?:"+[ls+At+"?",At,Pr,Dr,Ga].join("|")+")",Ja=RegExp(Rr,"g"),Xa=RegExp(At,"g"),br=RegExp(Lr+"(?="+Lr+")|"+Ya+_s,"g"),Za=RegExp([Pn+"?"+os+"+"+hs+"(?="+[ss,Pn,"$"].join("|")+")",ka+"+"+gs+"(?="+[ss,Pn+cs,"$"].join("|")+")",Pn+"?"+cs+"+"+hs,Pn+"+"+gs,qa,$a,us,Ka].join("|"),"g"),Qa=RegExp("["+fs+Mt+ji+rs+"]"),Va=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ja=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],el=-1,$={};$[mr]=$[wr]=$[Cr]=$[yr]=$[xr]=$[Tr]=$[Er]=$[Mr]=$[Ar]=!0,$[Rn]=$[Ct]=$[et]=$[Jn]=$[Ln]=$[Xn]=$[yt]=$[xt]=$[Pe]=$[Zn]=$[qe]=$[Qn]=$[De]=$[Vn]=$[jn]=!1;var H={};H[Rn]=H[Ct]=H[et]=H[Ln]=H[Jn]=H[Xn]=H[mr]=H[wr]=H[Cr]=H[yr]=H[xr]=H[Pe]=H[Zn]=H[qe]=H[Qn]=H[De]=H[Vn]=H[Tt]=H[Tr]=H[Er]=H[Mr]=H[Ar]=!0,H[yt]=H[xt]=H[jn]=!1;var nl={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},tl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},rl={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},il={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},sl=parseFloat,ul=parseInt,vs=typeof _t=="object"&&_t&&_t.Object===Object&&_t,ol=typeof self=="object"&&self&&self.Object===Object&&self,ee=vs||ol||Function("return this")(),Or=a&&!a.nodeType&&a,_n=Or&&!0&&l&&!l.nodeType&&l,ms=_n&&_n.exports===Or,Wr=ms&&vs.process,xe=function(){try{var g=_n&&_n.require&&_n.require("util").types;return g||Wr&&Wr.binding&&Wr.binding("util")}catch{}}(),ws=xe&&xe.isArrayBuffer,Cs=xe&&xe.isDate,ys=xe&&xe.isMap,xs=xe&&xe.isRegExp,Ts=xe&&xe.isSet,Es=xe&&xe.isTypedArray;function pe(g,_,d){switch(d.length){case 0:return g.call(_);case 1:return g.call(_,d[0]);case 2:return g.call(_,d[0],d[1]);case 3:return g.call(_,d[0],d[1],d[2])}return g.apply(_,d)}function al(g,_,d,T){for(var L=-1,G=g==null?0:g.length;++L<G;){var Q=g[L];_(T,Q,d(Q),g)}return T}function Te(g,_){for(var d=-1,T=g==null?0:g.length;++d<T&&_(g[d],d,g)!==!1;);return g}function ll(g,_){for(var d=g==null?0:g.length;d--&&_(g[d],d,g)!==!1;);return g}function Ms(g,_){for(var d=-1,T=g==null?0:g.length;++d<T;)if(!_(g[d],d,g))return!1;return!0}function rn(g,_){for(var d=-1,T=g==null?0:g.length,L=0,G=[];++d<T;){var Q=g[d];_(Q,d,g)&&(G[L++]=Q)}return G}function St(g,_){var d=g==null?0:g.length;return!!d&&Dn(g,_,0)>-1}function Br(g,_,d){for(var T=-1,L=g==null?0:g.length;++T<L;)if(d(_,g[T]))return!0;return!1}function q(g,_){for(var d=-1,T=g==null?0:g.length,L=Array(T);++d<T;)L[d]=_(g[d],d,g);return L}function sn(g,_){for(var d=-1,T=_.length,L=g.length;++d<T;)g[L+d]=_[d];return g}function Fr(g,_,d,T){var L=-1,G=g==null?0:g.length;for(T&&G&&(d=g[++L]);++L<G;)d=_(d,g[L],L,g);return d}function fl(g,_,d,T){var L=g==null?0:g.length;for(T&&L&&(d=g[--L]);L--;)d=_(d,g[L],L,g);return d}function Ur(g,_){for(var d=-1,T=g==null?0:g.length;++d<T;)if(_(g[d],d,g))return!0;return!1}var cl=Gr("length");function hl(g){return g.split("")}function gl(g){return g.match(ya)||[]}function As(g,_,d){var T;return d(g,function(L,G,Q){if(_(L,G,Q))return T=G,!1}),T}function It(g,_,d,T){for(var L=g.length,G=d+(T?1:-1);T?G--:++G<L;)if(_(g[G],G,g))return G;return-1}function Dn(g,_,d){return _===_?Ml(g,_,d):It(g,Ss,d)}function pl(g,_,d,T){for(var L=d-1,G=g.length;++L<G;)if(T(g[L],_))return L;return-1}function Ss(g){return g!==g}function Is(g,_){var d=g==null?0:g.length;return d?Nr(g,_)/d:wt}function Gr(g){return function(_){return _==null?s:_[g]}}function zr(g){return function(_){return g==null?s:g[_]}}function Rs(g,_,d,T,L){return L(g,function(G,Q,k){d=T?(T=!1,G):_(d,G,Q,k)}),d}function dl(g,_){var d=g.length;for(g.sort(_);d--;)g[d]=g[d].value;return g}function Nr(g,_){for(var d,T=-1,L=g.length;++T<L;){var G=_(g[T]);G!==s&&(d=d===s?G:d+G)}return d}function kr(g,_){for(var d=-1,T=Array(g);++d<g;)T[d]=_(d);return T}function _l(g,_){return q(_,function(d){return[d,g[d]]})}function Ls(g){return g&&g.slice(0,Os(g)+1).replace(Ir,"")}function de(g){return function(_){return g(_)}}function Hr(g,_){return q(_,function(d){return g[d]})}function nt(g,_){return g.has(_)}function Ps(g,_){for(var d=-1,T=g.length;++d<T&&Dn(_,g[d],0)>-1;);return d}function Ds(g,_){for(var d=g.length;d--&&Dn(_,g[d],0)>-1;);return d}function vl(g,_){for(var d=g.length,T=0;d--;)g[d]===_&&++T;return T}var ml=zr(nl),wl=zr(tl);function Cl(g){return"\\"+il[g]}function yl(g,_){return g==null?s:g[_]}function bn(g){return Qa.test(g)}function xl(g){return Va.test(g)}function Tl(g){for(var _,d=[];!(_=g.next()).done;)d.push(_.value);return d}function $r(g){var _=-1,d=Array(g.size);return g.forEach(function(T,L){d[++_]=[L,T]}),d}function bs(g,_){return function(d){return g(_(d))}}function un(g,_){for(var d=-1,T=g.length,L=0,G=[];++d<T;){var Q=g[d];(Q===_||Q===ge)&&(g[d]=ge,G[L++]=d)}return G}function Rt(g){var _=-1,d=Array(g.size);return g.forEach(function(T){d[++_]=T}),d}function El(g){var _=-1,d=Array(g.size);return g.forEach(function(T){d[++_]=[T,T]}),d}function Ml(g,_,d){for(var T=d-1,L=g.length;++T<L;)if(g[T]===_)return T;return-1}function Al(g,_,d){for(var T=d+1;T--;)if(g[T]===_)return T;return T}function On(g){return bn(g)?Il(g):cl(g)}function be(g){return bn(g)?Rl(g):hl(g)}function Os(g){for(var _=g.length;_--&&va.test(g.charAt(_)););return _}var Sl=zr(rl);function Il(g){for(var _=br.lastIndex=0;br.test(g);)++_;return _}function Rl(g){return g.match(br)||[]}function Ll(g){return g.match(Za)||[]}var Pl=function g(_){_=_==null?ee:Wn.defaults(ee.Object(),_,Wn.pick(ee,ja));var d=_.Array,T=_.Date,L=_.Error,G=_.Function,Q=_.Math,k=_.Object,qr=_.RegExp,Dl=_.String,Ee=_.TypeError,Lt=d.prototype,bl=G.prototype,Bn=k.prototype,Pt=_["__core-js_shared__"],Dt=bl.toString,N=Bn.hasOwnProperty,Ol=0,Ws=function(){var e=/[^.]+$/.exec(Pt&&Pt.keys&&Pt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),bt=Bn.toString,Wl=Dt.call(k),Bl=ee._,Fl=qr("^"+Dt.call(N).replace(Sr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ot=ms?_.Buffer:s,on=_.Symbol,Wt=_.Uint8Array,Bs=Ot?Ot.allocUnsafe:s,Bt=bs(k.getPrototypeOf,k),Fs=k.create,Us=Bn.propertyIsEnumerable,Ft=Lt.splice,Gs=on?on.isConcatSpreadable:s,tt=on?on.iterator:s,vn=on?on.toStringTag:s,Ut=function(){try{var e=xn(k,"defineProperty");return e({},"",{}),e}catch{}}(),Ul=_.clearTimeout!==ee.clearTimeout&&_.clearTimeout,Gl=T&&T.now!==ee.Date.now&&T.now,zl=_.setTimeout!==ee.setTimeout&&_.setTimeout,Gt=Q.ceil,zt=Q.floor,Kr=k.getOwnPropertySymbols,Nl=Ot?Ot.isBuffer:s,zs=_.isFinite,kl=Lt.join,Hl=bs(k.keys,k),V=Q.max,te=Q.min,$l=T.now,ql=_.parseInt,Ns=Q.random,Kl=Lt.reverse,Yr=xn(_,"DataView"),rt=xn(_,"Map"),Jr=xn(_,"Promise"),Fn=xn(_,"Set"),it=xn(_,"WeakMap"),st=xn(k,"create"),Nt=it&&new it,Un={},Yl=Tn(Yr),Jl=Tn(rt),Xl=Tn(Jr),Zl=Tn(Fn),Ql=Tn(it),kt=on?on.prototype:s,ut=kt?kt.valueOf:s,ks=kt?kt.toString:s;function u(e){if(J(e)&&!P(e)&&!(e instanceof F)){if(e instanceof Me)return e;if(N.call(e,"__wrapped__"))return Hu(e)}return new Me(e)}var Gn=function(){function e(){}return function(n){if(!K(n))return{};if(Fs)return Fs(n);e.prototype=n;var t=new e;return e.prototype=s,t}}();function Ht(){}function Me(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=s}u.templateSettings={escape:ca,evaluate:ha,interpolate:Qi,variable:"",imports:{_:u}},u.prototype=Ht.prototype,u.prototype.constructor=u,Me.prototype=Gn(Ht.prototype),Me.prototype.constructor=Me;function F(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ze,this.__views__=[]}function Vl(){var e=new F(this.__wrapped__);return e.__actions__=ae(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ae(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ae(this.__views__),e}function jl(){if(this.__filtered__){var e=new F(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function ef(){var e=this.__wrapped__.value(),n=this.__dir__,t=P(e),r=n<0,i=t?e.length:0,o=gc(0,i,this.__views__),f=o.start,c=o.end,p=c-f,m=r?c:f-1,w=this.__iteratees__,C=w.length,x=0,M=te(p,this.__takeCount__);if(!t||!r&&i==p&&M==p)return hu(e,this.__actions__);var S=[];e:for(;p--&&x<M;){m+=n;for(var b=-1,I=e[m];++b<C;){var B=w[b],U=B.iteratee,me=B.type,ue=U(I);if(me==Jo)I=ue;else if(!ue){if(me==Ki)continue e;break e}}S[x++]=I}return S}F.prototype=Gn(Ht.prototype),F.prototype.constructor=F;function mn(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function nf(){this.__data__=st?st(null):{},this.size=0}function tf(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}function rf(e){var n=this.__data__;if(st){var t=n[e];return t===W?s:t}return N.call(n,e)?n[e]:s}function sf(e){var n=this.__data__;return st?n[e]!==s:N.call(n,e)}function uf(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=st&&n===s?W:n,this}mn.prototype.clear=nf,mn.prototype.delete=tf,mn.prototype.get=rf,mn.prototype.has=sf,mn.prototype.set=uf;function Ke(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function of(){this.__data__=[],this.size=0}function af(e){var n=this.__data__,t=$t(n,e);if(t<0)return!1;var r=n.length-1;return t==r?n.pop():Ft.call(n,t,1),--this.size,!0}function lf(e){var n=this.__data__,t=$t(n,e);return t<0?s:n[t][1]}function ff(e){return $t(this.__data__,e)>-1}function cf(e,n){var t=this.__data__,r=$t(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this}Ke.prototype.clear=of,Ke.prototype.delete=af,Ke.prototype.get=lf,Ke.prototype.has=ff,Ke.prototype.set=cf;function Ye(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function hf(){this.size=0,this.__data__={hash:new mn,map:new(rt||Ke),string:new mn}}function gf(e){var n=tr(this,e).delete(e);return this.size-=n?1:0,n}function pf(e){return tr(this,e).get(e)}function df(e){return tr(this,e).has(e)}function _f(e,n){var t=tr(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this}Ye.prototype.clear=hf,Ye.prototype.delete=gf,Ye.prototype.get=pf,Ye.prototype.has=df,Ye.prototype.set=_f;function wn(e){var n=-1,t=e==null?0:e.length;for(this.__data__=new Ye;++n<t;)this.add(e[n])}function vf(e){return this.__data__.set(e,W),this}function mf(e){return this.__data__.has(e)}wn.prototype.add=wn.prototype.push=vf,wn.prototype.has=mf;function Oe(e){var n=this.__data__=new Ke(e);this.size=n.size}function wf(){this.__data__=new Ke,this.size=0}function Cf(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}function yf(e){return this.__data__.get(e)}function xf(e){return this.__data__.has(e)}function Tf(e,n){var t=this.__data__;if(t instanceof Ke){var r=t.__data__;if(!rt||r.length<v-1)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new Ye(r)}return t.set(e,n),this.size=t.size,this}Oe.prototype.clear=wf,Oe.prototype.delete=Cf,Oe.prototype.get=yf,Oe.prototype.has=xf,Oe.prototype.set=Tf;function Hs(e,n){var t=P(e),r=!t&&En(e),i=!t&&!r&&hn(e),o=!t&&!r&&!i&&Hn(e),f=t||r||i||o,c=f?kr(e.length,Dl):[],p=c.length;for(var m in e)(n||N.call(e,m))&&!(f&&(m=="length"||i&&(m=="offset"||m=="parent")||o&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||Qe(m,p)))&&c.push(m);return c}function $s(e){var n=e.length;return n?e[si(0,n-1)]:s}function Ef(e,n){return rr(ae(e),Cn(n,0,e.length))}function Mf(e){return rr(ae(e))}function Xr(e,n,t){(t!==s&&!We(e[n],t)||t===s&&!(n in e))&&Je(e,n,t)}function ot(e,n,t){var r=e[n];(!(N.call(e,n)&&We(r,t))||t===s&&!(n in e))&&Je(e,n,t)}function $t(e,n){for(var t=e.length;t--;)if(We(e[t][0],n))return t;return-1}function Af(e,n,t,r){return an(e,function(i,o,f){n(r,i,t(i),f)}),r}function qs(e,n){return e&&ke(n,j(n),e)}function Sf(e,n){return e&&ke(n,fe(n),e)}function Je(e,n,t){n=="__proto__"&&Ut?Ut(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}function Zr(e,n){for(var t=-1,r=n.length,i=d(r),o=e==null;++t<r;)i[t]=o?s:Li(e,n[t]);return i}function Cn(e,n,t){return e===e&&(t!==s&&(e=e<=t?e:t),n!==s&&(e=e>=n?e:n)),e}function Ae(e,n,t,r,i,o){var f,c=n&Y,p=n&Mn,m=n&nn;if(t&&(f=i?t(e,r,i,o):t(e)),f!==s)return f;if(!K(e))return e;var w=P(e);if(w){if(f=dc(e),!c)return ae(e,f)}else{var C=re(e),x=C==xt||C==Yi;if(hn(e))return du(e,c);if(C==qe||C==Rn||x&&!i){if(f=p||x?{}:Ou(e),!c)return p?ic(e,Sf(f,e)):rc(e,qs(f,e))}else{if(!H[C])return i?e:{};f=_c(e,C,c)}}o||(o=new Oe);var M=o.get(e);if(M)return M;o.set(e,f),lo(e)?e.forEach(function(I){f.add(Ae(I,n,t,I,e,o))}):oo(e)&&e.forEach(function(I,B){f.set(B,Ae(I,n,t,B,e,o))});var S=m?p?_i:di:p?fe:j,b=w?s:S(e);return Te(b||e,function(I,B){b&&(B=I,I=e[B]),ot(f,B,Ae(I,n,t,B,e,o))}),f}function If(e){var n=j(e);return function(t){return Ks(t,e,n)}}function Ks(e,n,t){var r=t.length;if(e==null)return!r;for(e=k(e);r--;){var i=t[r],o=n[i],f=e[i];if(f===s&&!(i in e)||!o(f))return!1}return!0}function Ys(e,n,t){if(typeof e!="function")throw new Ee(E);return pt(function(){e.apply(s,t)},n)}function at(e,n,t,r){var i=-1,o=St,f=!0,c=e.length,p=[],m=n.length;if(!c)return p;t&&(n=q(n,de(t))),r?(o=Br,f=!1):n.length>=v&&(o=nt,f=!1,n=new wn(n));e:for(;++i<c;){var w=e[i],C=t==null?w:t(w);if(w=r||w!==0?w:0,f&&C===C){for(var x=m;x--;)if(n[x]===C)continue e;p.push(w)}else o(n,C,r)||p.push(w)}return p}var an=Cu(Ne),Js=Cu(Vr,!0);function Rf(e,n){var t=!0;return an(e,function(r,i,o){return t=!!n(r,i,o),t}),t}function qt(e,n,t){for(var r=-1,i=e.length;++r<i;){var o=e[r],f=n(o);if(f!=null&&(c===s?f===f&&!ve(f):t(f,c)))var c=f,p=o}return p}function Lf(e,n,t,r){var i=e.length;for(t=D(t),t<0&&(t=-t>i?0:i+t),r=r===s||r>i?i:D(r),r<0&&(r+=i),r=t>r?0:co(r);t<r;)e[t++]=n;return e}function Xs(e,n){var t=[];return an(e,function(r,i,o){n(r,i,o)&&t.push(r)}),t}function ne(e,n,t,r,i){var o=-1,f=e.length;for(t||(t=mc),i||(i=[]);++o<f;){var c=e[o];n>0&&t(c)?n>1?ne(c,n-1,t,r,i):sn(i,c):r||(i[i.length]=c)}return i}var Qr=yu(),Zs=yu(!0);function Ne(e,n){return e&&Qr(e,n,j)}function Vr(e,n){return e&&Zs(e,n,j)}function Kt(e,n){return rn(n,function(t){return Ve(e[t])})}function yn(e,n){n=fn(n,e);for(var t=0,r=n.length;e!=null&&t<r;)e=e[He(n[t++])];return t&&t==r?e:s}function Qs(e,n,t){var r=n(e);return P(e)?r:sn(r,t(e))}function ie(e){return e==null?e===s?ia:ta:vn&&vn in k(e)?hc(e):Mc(e)}function jr(e,n){return e>n}function Pf(e,n){return e!=null&&N.call(e,n)}function Df(e,n){return e!=null&&n in k(e)}function bf(e,n,t){return e>=te(n,t)&&e<V(n,t)}function ei(e,n,t){for(var r=t?Br:St,i=e[0].length,o=e.length,f=o,c=d(o),p=1/0,m=[];f--;){var w=e[f];f&&n&&(w=q(w,de(n))),p=te(w.length,p),c[f]=!t&&(n||i>=120&&w.length>=120)?new wn(f&&w):s}w=e[0];var C=-1,x=c[0];e:for(;++C<i&&m.length<p;){var M=w[C],S=n?n(M):M;if(M=t||M!==0?M:0,!(x?nt(x,S):r(m,S,t))){for(f=o;--f;){var b=c[f];if(!(b?nt(b,S):r(e[f],S,t)))continue e}x&&x.push(S),m.push(M)}}return m}function Of(e,n,t,r){return Ne(e,function(i,o,f){n(r,t(i),o,f)}),r}function lt(e,n,t){n=fn(n,e),e=Uu(e,n);var r=e==null?e:e[He(Ie(n))];return r==null?s:pe(r,e,t)}function Vs(e){return J(e)&&ie(e)==Rn}function Wf(e){return J(e)&&ie(e)==et}function Bf(e){return J(e)&&ie(e)==Xn}function ft(e,n,t,r,i){return e===n?!0:e==null||n==null||!J(e)&&!J(n)?e!==e&&n!==n:Ff(e,n,t,r,ft,i)}function Ff(e,n,t,r,i,o){var f=P(e),c=P(n),p=f?Ct:re(e),m=c?Ct:re(n);p=p==Rn?qe:p,m=m==Rn?qe:m;var w=p==qe,C=m==qe,x=p==m;if(x&&hn(e)){if(!hn(n))return!1;f=!0,w=!1}if(x&&!w)return o||(o=new Oe),f||Hn(e)?Pu(e,n,t,r,i,o):fc(e,n,p,t,r,i,o);if(!(t&An)){var M=w&&N.call(e,"__wrapped__"),S=C&&N.call(n,"__wrapped__");if(M||S){var b=M?e.value():e,I=S?n.value():n;return o||(o=new Oe),i(b,I,t,r,o)}}return x?(o||(o=new Oe),cc(e,n,t,r,i,o)):!1}function Uf(e){return J(e)&&re(e)==Pe}function ni(e,n,t,r){var i=t.length,o=i,f=!r;if(e==null)return!o;for(e=k(e);i--;){var c=t[i];if(f&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<o;){c=t[i];var p=c[0],m=e[p],w=c[1];if(f&&c[2]){if(m===s&&!(p in e))return!1}else{var C=new Oe;if(r)var x=r(m,w,p,e,n,C);if(!(x===s?ft(w,m,An|mt,r,C):x))return!1}}return!0}function js(e){if(!K(e)||Cc(e))return!1;var n=Ve(e)?Fl:Sa;return n.test(Tn(e))}function Gf(e){return J(e)&&ie(e)==Qn}function zf(e){return J(e)&&re(e)==De}function Nf(e){return J(e)&&lr(e.length)&&!!$[ie(e)]}function eu(e){return typeof e=="function"?e:e==null?ce:typeof e=="object"?P(e)?ru(e[0],e[1]):tu(e):To(e)}function ti(e){if(!gt(e))return Hl(e);var n=[];for(var t in k(e))N.call(e,t)&&t!="constructor"&&n.push(t);return n}function kf(e){if(!K(e))return Ec(e);var n=gt(e),t=[];for(var r in e)r=="constructor"&&(n||!N.call(e,r))||t.push(r);return t}function ri(e,n){return e<n}function nu(e,n){var t=-1,r=le(e)?d(e.length):[];return an(e,function(i,o,f){r[++t]=n(i,o,f)}),r}function tu(e){var n=mi(e);return n.length==1&&n[0][2]?Bu(n[0][0],n[0][1]):function(t){return t===e||ni(t,e,n)}}function ru(e,n){return Ci(e)&&Wu(n)?Bu(He(e),n):function(t){var r=Li(t,e);return r===s&&r===n?Pi(t,e):ft(n,r,An|mt)}}function Yt(e,n,t,r,i){e!==n&&Qr(n,function(o,f){if(i||(i=new Oe),K(o))Hf(e,n,f,t,Yt,r,i);else{var c=r?r(xi(e,f),o,f+"",e,n,i):s;c===s&&(c=o),Xr(e,f,c)}},fe)}function Hf(e,n,t,r,i,o,f){var c=xi(e,t),p=xi(n,t),m=f.get(p);if(m){Xr(e,t,m);return}var w=o?o(c,p,t+"",e,n,f):s,C=w===s;if(C){var x=P(p),M=!x&&hn(p),S=!x&&!M&&Hn(p);w=p,x||M||S?P(c)?w=c:X(c)?w=ae(c):M?(C=!1,w=du(p,!0)):S?(C=!1,w=_u(p,!0)):w=[]:dt(p)||En(p)?(w=c,En(c)?w=ho(c):(!K(c)||Ve(c))&&(w=Ou(p))):C=!1}C&&(f.set(p,w),i(w,p,r,o,f),f.delete(p)),Xr(e,t,w)}function iu(e,n){var t=e.length;if(t)return n+=n<0?t:0,Qe(n,t)?e[n]:s}function su(e,n,t){n.length?n=q(n,function(o){return P(o)?function(f){return yn(f,o.length===1?o[0]:o)}:o}):n=[ce];var r=-1;n=q(n,de(A()));var i=nu(e,function(o,f,c){var p=q(n,function(m){return m(o)});return{criteria:p,index:++r,value:o}});return dl(i,function(o,f){return tc(o,f,t)})}function $f(e,n){return uu(e,n,function(t,r){return Pi(e,r)})}function uu(e,n,t){for(var r=-1,i=n.length,o={};++r<i;){var f=n[r],c=yn(e,f);t(c,f)&&ct(o,fn(f,e),c)}return o}function qf(e){return function(n){return yn(n,e)}}function ii(e,n,t,r){var i=r?pl:Dn,o=-1,f=n.length,c=e;for(e===n&&(n=ae(n)),t&&(c=q(e,de(t)));++o<f;)for(var p=0,m=n[o],w=t?t(m):m;(p=i(c,w,p,r))>-1;)c!==e&&Ft.call(c,p,1),Ft.call(e,p,1);return e}function ou(e,n){for(var t=e?n.length:0,r=t-1;t--;){var i=n[t];if(t==r||i!==o){var o=i;Qe(i)?Ft.call(e,i,1):ai(e,i)}}return e}function si(e,n){return e+zt(Ns()*(n-e+1))}function Kf(e,n,t,r){for(var i=-1,o=V(Gt((n-e)/(t||1)),0),f=d(o);o--;)f[r?o:++i]=e,e+=t;return f}function ui(e,n){var t="";if(!e||n<1||n>tn)return t;do n%2&&(t+=e),n=zt(n/2),n&&(e+=e);while(n);return t}function O(e,n){return Ti(Fu(e,n,ce),e+"")}function Yf(e){return $s($n(e))}function Jf(e,n){var t=$n(e);return rr(t,Cn(n,0,t.length))}function ct(e,n,t,r){if(!K(e))return e;n=fn(n,e);for(var i=-1,o=n.length,f=o-1,c=e;c!=null&&++i<o;){var p=He(n[i]),m=t;if(p==="__proto__"||p==="constructor"||p==="prototype")return e;if(i!=f){var w=c[p];m=r?r(w,p,c):s,m===s&&(m=K(w)?w:Qe(n[i+1])?[]:{})}ot(c,p,m),c=c[p]}return e}var au=Nt?function(e,n){return Nt.set(e,n),e}:ce,Xf=Ut?function(e,n){return Ut(e,"toString",{configurable:!0,enumerable:!1,value:bi(n),writable:!0})}:ce;function Zf(e){return rr($n(e))}function Se(e,n,t){var r=-1,i=e.length;n<0&&(n=-n>i?0:i+n),t=t>i?i:t,t<0&&(t+=i),i=n>t?0:t-n>>>0,n>>>=0;for(var o=d(i);++r<i;)o[r]=e[r+n];return o}function Qf(e,n){var t;return an(e,function(r,i,o){return t=n(r,i,o),!t}),!!t}function Jt(e,n,t){var r=0,i=e==null?r:e.length;if(typeof n=="number"&&n===n&&i<=Vo){for(;r<i;){var o=r+i>>>1,f=e[o];f!==null&&!ve(f)&&(t?f<=n:f<n)?r=o+1:i=o}return i}return oi(e,n,ce,t)}function oi(e,n,t,r){var i=0,o=e==null?0:e.length;if(o===0)return 0;n=t(n);for(var f=n!==n,c=n===null,p=ve(n),m=n===s;i<o;){var w=zt((i+o)/2),C=t(e[w]),x=C!==s,M=C===null,S=C===C,b=ve(C);if(f)var I=r||S;else m?I=S&&(r||x):c?I=S&&x&&(r||!M):p?I=S&&x&&!M&&(r||!b):M||b?I=!1:I=r?C<=n:C<n;I?i=w+1:o=w}return te(o,Qo)}function lu(e,n){for(var t=-1,r=e.length,i=0,o=[];++t<r;){var f=e[t],c=n?n(f):f;if(!t||!We(c,p)){var p=c;o[i++]=f===0?0:f}}return o}function fu(e){return typeof e=="number"?e:ve(e)?wt:+e}function _e(e){if(typeof e=="string")return e;if(P(e))return q(e,_e)+"";if(ve(e))return ks?ks.call(e):"";var n=e+"";return n=="0"&&1/e==-dn?"-0":n}function ln(e,n,t){var r=-1,i=St,o=e.length,f=!0,c=[],p=c;if(t)f=!1,i=Br;else if(o>=v){var m=n?null:ac(e);if(m)return Rt(m);f=!1,i=nt,p=new wn}else p=n?[]:c;e:for(;++r<o;){var w=e[r],C=n?n(w):w;if(w=t||w!==0?w:0,f&&C===C){for(var x=p.length;x--;)if(p[x]===C)continue e;n&&p.push(C),c.push(w)}else i(p,C,t)||(p!==c&&p.push(C),c.push(w))}return c}function ai(e,n){return n=fn(n,e),e=Uu(e,n),e==null||delete e[He(Ie(n))]}function cu(e,n,t,r){return ct(e,n,t(yn(e,n)),r)}function Xt(e,n,t,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&n(e[o],o,e););return t?Se(e,r?0:o,r?o+1:i):Se(e,r?o+1:0,r?i:o)}function hu(e,n){var t=e;return t instanceof F&&(t=t.value()),Fr(n,function(r,i){return i.func.apply(i.thisArg,sn([r],i.args))},t)}function li(e,n,t){var r=e.length;if(r<2)return r?ln(e[0]):[];for(var i=-1,o=d(r);++i<r;)for(var f=e[i],c=-1;++c<r;)c!=i&&(o[i]=at(o[i]||f,e[c],n,t));return ln(ne(o,1),n,t)}function gu(e,n,t){for(var r=-1,i=e.length,o=n.length,f={};++r<i;){var c=r<o?n[r]:s;t(f,e[r],c)}return f}function fi(e){return X(e)?e:[]}function ci(e){return typeof e=="function"?e:ce}function fn(e,n){return P(e)?e:Ci(e,n)?[e]:ku(z(e))}var Vf=O;function cn(e,n,t){var r=e.length;return t=t===s?r:t,!n&&t>=r?e:Se(e,n,t)}var pu=Ul||function(e){return ee.clearTimeout(e)};function du(e,n){if(n)return e.slice();var t=e.length,r=Bs?Bs(t):new e.constructor(t);return e.copy(r),r}function hi(e){var n=new e.constructor(e.byteLength);return new Wt(n).set(new Wt(e)),n}function jf(e,n){var t=n?hi(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}function ec(e){var n=new e.constructor(e.source,Vi.exec(e));return n.lastIndex=e.lastIndex,n}function nc(e){return ut?k(ut.call(e)):{}}function _u(e,n){var t=n?hi(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}function vu(e,n){if(e!==n){var t=e!==s,r=e===null,i=e===e,o=ve(e),f=n!==s,c=n===null,p=n===n,m=ve(n);if(!c&&!m&&!o&&e>n||o&&f&&p&&!c&&!m||r&&f&&p||!t&&p||!i)return 1;if(!r&&!o&&!m&&e<n||m&&t&&i&&!r&&!o||c&&t&&i||!f&&i||!p)return-1}return 0}function tc(e,n,t){for(var r=-1,i=e.criteria,o=n.criteria,f=i.length,c=t.length;++r<f;){var p=vu(i[r],o[r]);if(p){if(r>=c)return p;var m=t[r];return p*(m=="desc"?-1:1)}}return e.index-n.index}function mu(e,n,t,r){for(var i=-1,o=e.length,f=t.length,c=-1,p=n.length,m=V(o-f,0),w=d(p+m),C=!r;++c<p;)w[c]=n[c];for(;++i<f;)(C||i<o)&&(w[t[i]]=e[i]);for(;m--;)w[c++]=e[i++];return w}function wu(e,n,t,r){for(var i=-1,o=e.length,f=-1,c=t.length,p=-1,m=n.length,w=V(o-c,0),C=d(w+m),x=!r;++i<w;)C[i]=e[i];for(var M=i;++p<m;)C[M+p]=n[p];for(;++f<c;)(x||i<o)&&(C[M+t[f]]=e[i++]);return C}function ae(e,n){var t=-1,r=e.length;for(n||(n=d(r));++t<r;)n[t]=e[t];return n}function ke(e,n,t,r){var i=!t;t||(t={});for(var o=-1,f=n.length;++o<f;){var c=n[o],p=r?r(t[c],e[c],c,t,e):s;p===s&&(p=e[c]),i?Je(t,c,p):ot(t,c,p)}return t}function rc(e,n){return ke(e,wi(e),n)}function ic(e,n){return ke(e,Du(e),n)}function Zt(e,n){return function(t,r){var i=P(t)?al:Af,o=n?n():{};return i(t,e,A(r,2),o)}}function zn(e){return O(function(n,t){var r=-1,i=t.length,o=i>1?t[i-1]:s,f=i>2?t[2]:s;for(o=e.length>3&&typeof o=="function"?(i--,o):s,f&&se(t[0],t[1],f)&&(o=i<3?s:o,i=1),n=k(n);++r<i;){var c=t[r];c&&e(n,c,r,o)}return n})}function Cu(e,n){return function(t,r){if(t==null)return t;if(!le(t))return e(t,r);for(var i=t.length,o=n?i:-1,f=k(t);(n?o--:++o<i)&&r(f[o],o,f)!==!1;);return t}}function yu(e){return function(n,t,r){for(var i=-1,o=k(n),f=r(n),c=f.length;c--;){var p=f[e?c:++i];if(t(o[p],p,o)===!1)break}return n}}function sc(e,n,t){var r=n&ye,i=ht(e);function o(){var f=this&&this!==ee&&this instanceof o?i:e;return f.apply(r?t:this,arguments)}return o}function xu(e){return function(n){n=z(n);var t=bn(n)?be(n):s,r=t?t[0]:n.charAt(0),i=t?cn(t,1).join(""):n.slice(1);return r[e]()+i}}function Nn(e){return function(n){return Fr(yo(Co(n).replace(Ja,"")),e,"")}}function ht(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var t=Gn(e.prototype),r=e.apply(t,n);return K(r)?r:t}}function uc(e,n,t){var r=ht(e);function i(){for(var o=arguments.length,f=d(o),c=o,p=kn(i);c--;)f[c]=arguments[c];var m=o<3&&f[0]!==p&&f[o-1]!==p?[]:un(f,p);if(o-=m.length,o<t)return Su(e,n,Qt,i.placeholder,s,f,m,s,s,t-o);var w=this&&this!==ee&&this instanceof i?r:e;return pe(w,this,f)}return i}function Tu(e){return function(n,t,r){var i=k(n);if(!le(n)){var o=A(t,3);n=j(n),t=function(c){return o(i[c],c,i)}}var f=e(n,t,r);return f>-1?i[o?n[f]:f]:s}}function Eu(e){return Ze(function(n){var t=n.length,r=t,i=Me.prototype.thru;for(e&&n.reverse();r--;){var o=n[r];if(typeof o!="function")throw new Ee(E);if(i&&!f&&nr(o)=="wrapper")var f=new Me([],!0)}for(r=f?r:t;++r<t;){o=n[r];var c=nr(o),p=c=="wrapper"?vi(o):s;p&&yi(p[0])&&p[1]==($e|Ue|Ge|Yn)&&!p[4].length&&p[9]==1?f=f[nr(p[0])].apply(f,p[3]):f=o.length==1&&yi(o)?f[c]():f.thru(o)}return function(){var m=arguments,w=m[0];if(f&&m.length==1&&P(w))return f.plant(w).value();for(var C=0,x=t?n[C].apply(this,m):w;++C<t;)x=n[C].call(this,x);return x}})}function Qt(e,n,t,r,i,o,f,c,p,m){var w=n&$e,C=n&ye,x=n&pn,M=n&(Ue|Sn),S=n&vr,b=x?s:ht(e);function I(){for(var B=arguments.length,U=d(B),me=B;me--;)U[me]=arguments[me];if(M)var ue=kn(I),we=vl(U,ue);if(r&&(U=mu(U,r,i,M)),o&&(U=wu(U,o,f,M)),B-=we,M&&B<m){var Z=un(U,ue);return Su(e,n,Qt,I.placeholder,t,U,Z,c,p,m-B)}var Be=C?t:this,en=x?Be[e]:e;return B=U.length,c?U=Ac(U,c):S&&B>1&&U.reverse(),w&&p<B&&(U.length=p),this&&this!==ee&&this instanceof I&&(en=b||ht(en)),en.apply(Be,U)}return I}function Mu(e,n){return function(t,r){return Of(t,e,n(r),{})}}function Vt(e,n){return function(t,r){var i;if(t===s&&r===s)return n;if(t!==s&&(i=t),r!==s){if(i===s)return r;typeof t=="string"||typeof r=="string"?(t=_e(t),r=_e(r)):(t=fu(t),r=fu(r)),i=e(t,r)}return i}}function gi(e){return Ze(function(n){return n=q(n,de(A())),O(function(t){var r=this;return e(n,function(i){return pe(i,r,t)})})})}function jt(e,n){n=n===s?" ":_e(n);var t=n.length;if(t<2)return t?ui(n,e):n;var r=ui(n,Gt(e/On(n)));return bn(n)?cn(be(r),0,e).join(""):r.slice(0,e)}function oc(e,n,t,r){var i=n&ye,o=ht(e);function f(){for(var c=-1,p=arguments.length,m=-1,w=r.length,C=d(w+p),x=this&&this!==ee&&this instanceof f?o:e;++m<w;)C[m]=r[m];for(;p--;)C[m++]=arguments[++c];return pe(x,i?t:this,C)}return f}function Au(e){return function(n,t,r){return r&&typeof r!="number"&&se(n,t,r)&&(t=r=s),n=je(n),t===s?(t=n,n=0):t=je(t),r=r===s?n<t?1:-1:je(r),Kf(n,t,r,e)}}function er(e){return function(n,t){return typeof n=="string"&&typeof t=="string"||(n=Re(n),t=Re(t)),e(n,t)}}function Su(e,n,t,r,i,o,f,c,p,m){var w=n&Ue,C=w?f:s,x=w?s:f,M=w?o:s,S=w?s:o;n|=w?Ge:In,n&=~(w?In:Ge),n&qi||(n&=~(ye|pn));var b=[e,n,i,M,C,S,x,c,p,m],I=t.apply(s,b);return yi(e)&&Gu(I,b),I.placeholder=r,zu(I,e,n)}function pi(e){var n=Q[e];return function(t,r){if(t=Re(t),r=r==null?0:te(D(r),292),r&&zs(t)){var i=(z(t)+"e").split("e"),o=n(i[0]+"e"+(+i[1]+r));return i=(z(o)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return n(t)}}var ac=Fn&&1/Rt(new Fn([,-0]))[1]==dn?function(e){return new Fn(e)}:Bi;function Iu(e){return function(n){var t=re(n);return t==Pe?$r(n):t==De?El(n):_l(n,e(n))}}function Xe(e,n,t,r,i,o,f,c){var p=n&pn;if(!p&&typeof e!="function")throw new Ee(E);var m=r?r.length:0;if(m||(n&=~(Ge|In),r=i=s),f=f===s?f:V(D(f),0),c=c===s?c:D(c),m-=i?i.length:0,n&In){var w=r,C=i;r=i=s}var x=p?s:vi(e),M=[e,n,t,r,i,w,C,o,f,c];if(x&&Tc(M,x),e=M[0],n=M[1],t=M[2],r=M[3],i=M[4],c=M[9]=M[9]===s?p?0:e.length:V(M[9]-m,0),!c&&n&(Ue|Sn)&&(n&=~(Ue|Sn)),!n||n==ye)var S=sc(e,n,t);else n==Ue||n==Sn?S=uc(e,n,c):(n==Ge||n==(ye|Ge))&&!i.length?S=oc(e,n,t,r):S=Qt.apply(s,M);var b=x?au:Gu;return zu(b(S,M),e,n)}function Ru(e,n,t,r){return e===s||We(e,Bn[t])&&!N.call(r,t)?n:e}function Lu(e,n,t,r,i,o){return K(e)&&K(n)&&(o.set(n,e),Yt(e,n,s,Lu,o),o.delete(n)),e}function lc(e){return dt(e)?s:e}function Pu(e,n,t,r,i,o){var f=t&An,c=e.length,p=n.length;if(c!=p&&!(f&&p>c))return!1;var m=o.get(e),w=o.get(n);if(m&&w)return m==n&&w==e;var C=-1,x=!0,M=t&mt?new wn:s;for(o.set(e,n),o.set(n,e);++C<c;){var S=e[C],b=n[C];if(r)var I=f?r(b,S,C,n,e,o):r(S,b,C,e,n,o);if(I!==s){if(I)continue;x=!1;break}if(M){if(!Ur(n,function(B,U){if(!nt(M,U)&&(S===B||i(S,B,t,r,o)))return M.push(U)})){x=!1;break}}else if(!(S===b||i(S,b,t,r,o))){x=!1;break}}return o.delete(e),o.delete(n),x}function fc(e,n,t,r,i,o,f){switch(t){case Ln:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case et:return!(e.byteLength!=n.byteLength||!o(new Wt(e),new Wt(n)));case Jn:case Xn:case Zn:return We(+e,+n);case yt:return e.name==n.name&&e.message==n.message;case Qn:case Vn:return e==n+"";case Pe:var c=$r;case De:var p=r&An;if(c||(c=Rt),e.size!=n.size&&!p)return!1;var m=f.get(e);if(m)return m==n;r|=mt,f.set(e,n);var w=Pu(c(e),c(n),r,i,o,f);return f.delete(e),w;case Tt:if(ut)return ut.call(e)==ut.call(n)}return!1}function cc(e,n,t,r,i,o){var f=t&An,c=di(e),p=c.length,m=di(n),w=m.length;if(p!=w&&!f)return!1;for(var C=p;C--;){var x=c[C];if(!(f?x in n:N.call(n,x)))return!1}var M=o.get(e),S=o.get(n);if(M&&S)return M==n&&S==e;var b=!0;o.set(e,n),o.set(n,e);for(var I=f;++C<p;){x=c[C];var B=e[x],U=n[x];if(r)var me=f?r(U,B,x,n,e,o):r(B,U,x,e,n,o);if(!(me===s?B===U||i(B,U,t,r,o):me)){b=!1;break}I||(I=x=="constructor")}if(b&&!I){var ue=e.constructor,we=n.constructor;ue!=we&&"constructor"in e&&"constructor"in n&&!(typeof ue=="function"&&ue instanceof ue&&typeof we=="function"&&we instanceof we)&&(b=!1)}return o.delete(e),o.delete(n),b}function Ze(e){return Ti(Fu(e,s,Ku),e+"")}function di(e){return Qs(e,j,wi)}function _i(e){return Qs(e,fe,Du)}var vi=Nt?function(e){return Nt.get(e)}:Bi;function nr(e){for(var n=e.name+"",t=Un[n],r=N.call(Un,n)?t.length:0;r--;){var i=t[r],o=i.func;if(o==null||o==e)return i.name}return n}function kn(e){var n=N.call(u,"placeholder")?u:e;return n.placeholder}function A(){var e=u.iteratee||Oi;return e=e===Oi?eu:e,arguments.length?e(arguments[0],arguments[1]):e}function tr(e,n){var t=e.__data__;return wc(n)?t[typeof n=="string"?"string":"hash"]:t.map}function mi(e){for(var n=j(e),t=n.length;t--;){var r=n[t],i=e[r];n[t]=[r,i,Wu(i)]}return n}function xn(e,n){var t=yl(e,n);return js(t)?t:s}function hc(e){var n=N.call(e,vn),t=e[vn];try{e[vn]=s;var r=!0}catch{}var i=bt.call(e);return r&&(n?e[vn]=t:delete e[vn]),i}var wi=Kr?function(e){return e==null?[]:(e=k(e),rn(Kr(e),function(n){return Us.call(e,n)}))}:Fi,Du=Kr?function(e){for(var n=[];e;)sn(n,wi(e)),e=Bt(e);return n}:Fi,re=ie;(Yr&&re(new Yr(new ArrayBuffer(1)))!=Ln||rt&&re(new rt)!=Pe||Jr&&re(Jr.resolve())!=Ji||Fn&&re(new Fn)!=De||it&&re(new it)!=jn)&&(re=function(e){var n=ie(e),t=n==qe?e.constructor:s,r=t?Tn(t):"";if(r)switch(r){case Yl:return Ln;case Jl:return Pe;case Xl:return Ji;case Zl:return De;case Ql:return jn}return n});function gc(e,n,t){for(var r=-1,i=t.length;++r<i;){var o=t[r],f=o.size;switch(o.type){case"drop":e+=f;break;case"dropRight":n-=f;break;case"take":n=te(n,e+f);break;case"takeRight":e=V(e,n-f);break}}return{start:e,end:n}}function pc(e){var n=e.match(wa);return n?n[1].split(Ca):[]}function bu(e,n,t){n=fn(n,e);for(var r=-1,i=n.length,o=!1;++r<i;){var f=He(n[r]);if(!(o=e!=null&&t(e,f)))break;e=e[f]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&lr(i)&&Qe(f,i)&&(P(e)||En(e)))}function dc(e){var n=e.length,t=new e.constructor(n);return n&&typeof e[0]=="string"&&N.call(e,"index")&&(t.index=e.index,t.input=e.input),t}function Ou(e){return typeof e.constructor=="function"&&!gt(e)?Gn(Bt(e)):{}}function _c(e,n,t){var r=e.constructor;switch(n){case et:return hi(e);case Jn:case Xn:return new r(+e);case Ln:return jf(e,t);case mr:case wr:case Cr:case yr:case xr:case Tr:case Er:case Mr:case Ar:return _u(e,t);case Pe:return new r;case Zn:case Vn:return new r(e);case Qn:return ec(e);case De:return new r;case Tt:return nc(e)}}function vc(e,n){var t=n.length;if(!t)return e;var r=t-1;return n[r]=(t>1?"& ":"")+n[r],n=n.join(t>2?", ":" "),e.replace(ma,`{
/* [wrapped with `+n+`] */
`)}function mc(e){return P(e)||En(e)||!!(Gs&&e&&e[Gs])}function Qe(e,n){var t=typeof e;return n=n??tn,!!n&&(t=="number"||t!="symbol"&&Ra.test(e))&&e>-1&&e%1==0&&e<n}function se(e,n,t){if(!K(t))return!1;var r=typeof n;return(r=="number"?le(t)&&Qe(n,t.length):r=="string"&&n in t)?We(t[n],e):!1}function Ci(e,n){if(P(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||ve(e)?!0:pa.test(e)||!ga.test(e)||n!=null&&e in k(n)}function wc(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function yi(e){var n=nr(e),t=u[n];if(typeof t!="function"||!(n in F.prototype))return!1;if(e===t)return!0;var r=vi(t);return!!r&&e===r[0]}function Cc(e){return!!Ws&&Ws in e}var yc=Pt?Ve:Ui;function gt(e){var n=e&&e.constructor,t=typeof n=="function"&&n.prototype||Bn;return e===t}function Wu(e){return e===e&&!K(e)}function Bu(e,n){return function(t){return t==null?!1:t[e]===n&&(n!==s||e in k(t))}}function xc(e){var n=or(e,function(r){return t.size===he&&t.clear(),r}),t=n.cache;return n}function Tc(e,n){var t=e[1],r=n[1],i=t|r,o=i<(ye|pn|$e),f=r==$e&&t==Ue||r==$e&&t==Yn&&e[7].length<=n[8]||r==($e|Yn)&&n[7].length<=n[8]&&t==Ue;if(!(o||f))return e;r&ye&&(e[2]=n[2],i|=t&ye?0:qi);var c=n[3];if(c){var p=e[3];e[3]=p?mu(p,c,n[4]):c,e[4]=p?un(e[3],ge):n[4]}return c=n[5],c&&(p=e[5],e[5]=p?wu(p,c,n[6]):c,e[6]=p?un(e[5],ge):n[6]),c=n[7],c&&(e[7]=c),r&$e&&(e[8]=e[8]==null?n[8]:te(e[8],n[8])),e[9]==null&&(e[9]=n[9]),e[0]=n[0],e[1]=i,e}function Ec(e){var n=[];if(e!=null)for(var t in k(e))n.push(t);return n}function Mc(e){return bt.call(e)}function Fu(e,n,t){return n=V(n===s?e.length-1:n,0),function(){for(var r=arguments,i=-1,o=V(r.length-n,0),f=d(o);++i<o;)f[i]=r[n+i];i=-1;for(var c=d(n+1);++i<n;)c[i]=r[i];return c[n]=t(f),pe(e,this,c)}}function Uu(e,n){return n.length<2?e:yn(e,Se(n,0,-1))}function Ac(e,n){for(var t=e.length,r=te(n.length,t),i=ae(e);r--;){var o=n[r];e[r]=Qe(o,t)?i[o]:s}return e}function xi(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var Gu=Nu(au),pt=zl||function(e,n){return ee.setTimeout(e,n)},Ti=Nu(Xf);function zu(e,n,t){var r=n+"";return Ti(e,vc(r,Sc(pc(r),t)))}function Nu(e){var n=0,t=0;return function(){var r=$l(),i=Yo-(r-t);if(t=r,i>0){if(++n>=Ko)return arguments[0]}else n=0;return e.apply(s,arguments)}}function rr(e,n){var t=-1,r=e.length,i=r-1;for(n=n===s?r:n;++t<n;){var o=si(t,i),f=e[o];e[o]=e[t],e[t]=f}return e.length=n,e}var ku=xc(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(da,function(t,r,i,o){n.push(i?o.replace(Ta,"$1"):r||t)}),n});function He(e){if(typeof e=="string"||ve(e))return e;var n=e+"";return n=="0"&&1/e==-dn?"-0":n}function Tn(e){if(e!=null){try{return Dt.call(e)}catch{}try{return e+""}catch{}}return""}function Sc(e,n){return Te(jo,function(t){var r="_."+t[0];n&t[1]&&!St(e,r)&&e.push(r)}),e.sort()}function Hu(e){if(e instanceof F)return e.clone();var n=new Me(e.__wrapped__,e.__chain__);return n.__actions__=ae(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}function Ic(e,n,t){(t?se(e,n,t):n===s)?n=1:n=V(D(n),0);var r=e==null?0:e.length;if(!r||n<1)return[];for(var i=0,o=0,f=d(Gt(r/n));i<r;)f[o++]=Se(e,i,i+=n);return f}function Rc(e){for(var n=-1,t=e==null?0:e.length,r=0,i=[];++n<t;){var o=e[n];o&&(i[r++]=o)}return i}function Lc(){var e=arguments.length;if(!e)return[];for(var n=d(e-1),t=arguments[0],r=e;r--;)n[r-1]=arguments[r];return sn(P(t)?ae(t):[t],ne(n,1))}var Pc=O(function(e,n){return X(e)?at(e,ne(n,1,X,!0)):[]}),Dc=O(function(e,n){var t=Ie(n);return X(t)&&(t=s),X(e)?at(e,ne(n,1,X,!0),A(t,2)):[]}),bc=O(function(e,n){var t=Ie(n);return X(t)&&(t=s),X(e)?at(e,ne(n,1,X,!0),s,t):[]});function Oc(e,n,t){var r=e==null?0:e.length;return r?(n=t||n===s?1:D(n),Se(e,n<0?0:n,r)):[]}function Wc(e,n,t){var r=e==null?0:e.length;return r?(n=t||n===s?1:D(n),n=r-n,Se(e,0,n<0?0:n)):[]}function Bc(e,n){return e&&e.length?Xt(e,A(n,3),!0,!0):[]}function Fc(e,n){return e&&e.length?Xt(e,A(n,3),!0):[]}function Uc(e,n,t,r){var i=e==null?0:e.length;return i?(t&&typeof t!="number"&&se(e,n,t)&&(t=0,r=i),Lf(e,n,t,r)):[]}function $u(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var i=t==null?0:D(t);return i<0&&(i=V(r+i,0)),It(e,A(n,3),i)}function qu(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var i=r-1;return t!==s&&(i=D(t),i=t<0?V(r+i,0):te(i,r-1)),It(e,A(n,3),i,!0)}function Ku(e){var n=e==null?0:e.length;return n?ne(e,1):[]}function Gc(e){var n=e==null?0:e.length;return n?ne(e,dn):[]}function zc(e,n){var t=e==null?0:e.length;return t?(n=n===s?1:D(n),ne(e,n)):[]}function Nc(e){for(var n=-1,t=e==null?0:e.length,r={};++n<t;){var i=e[n];r[i[0]]=i[1]}return r}function Yu(e){return e&&e.length?e[0]:s}function kc(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var i=t==null?0:D(t);return i<0&&(i=V(r+i,0)),Dn(e,n,i)}function Hc(e){var n=e==null?0:e.length;return n?Se(e,0,-1):[]}var $c=O(function(e){var n=q(e,fi);return n.length&&n[0]===e[0]?ei(n):[]}),qc=O(function(e){var n=Ie(e),t=q(e,fi);return n===Ie(t)?n=s:t.pop(),t.length&&t[0]===e[0]?ei(t,A(n,2)):[]}),Kc=O(function(e){var n=Ie(e),t=q(e,fi);return n=typeof n=="function"?n:s,n&&t.pop(),t.length&&t[0]===e[0]?ei(t,s,n):[]});function Yc(e,n){return e==null?"":kl.call(e,n)}function Ie(e){var n=e==null?0:e.length;return n?e[n-1]:s}function Jc(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var i=r;return t!==s&&(i=D(t),i=i<0?V(r+i,0):te(i,r-1)),n===n?Al(e,n,i):It(e,Ss,i,!0)}function Xc(e,n){return e&&e.length?iu(e,D(n)):s}var Zc=O(Ju);function Ju(e,n){return e&&e.length&&n&&n.length?ii(e,n):e}function Qc(e,n,t){return e&&e.length&&n&&n.length?ii(e,n,A(t,2)):e}function Vc(e,n,t){return e&&e.length&&n&&n.length?ii(e,n,s,t):e}var jc=Ze(function(e,n){var t=e==null?0:e.length,r=Zr(e,n);return ou(e,q(n,function(i){return Qe(i,t)?+i:i}).sort(vu)),r});function eh(e,n){var t=[];if(!(e&&e.length))return t;var r=-1,i=[],o=e.length;for(n=A(n,3);++r<o;){var f=e[r];n(f,r,e)&&(t.push(f),i.push(r))}return ou(e,i),t}function Ei(e){return e==null?e:Kl.call(e)}function nh(e,n,t){var r=e==null?0:e.length;return r?(t&&typeof t!="number"&&se(e,n,t)?(n=0,t=r):(n=n==null?0:D(n),t=t===s?r:D(t)),Se(e,n,t)):[]}function th(e,n){return Jt(e,n)}function rh(e,n,t){return oi(e,n,A(t,2))}function ih(e,n){var t=e==null?0:e.length;if(t){var r=Jt(e,n);if(r<t&&We(e[r],n))return r}return-1}function sh(e,n){return Jt(e,n,!0)}function uh(e,n,t){return oi(e,n,A(t,2),!0)}function oh(e,n){var t=e==null?0:e.length;if(t){var r=Jt(e,n,!0)-1;if(We(e[r],n))return r}return-1}function ah(e){return e&&e.length?lu(e):[]}function lh(e,n){return e&&e.length?lu(e,A(n,2)):[]}function fh(e){var n=e==null?0:e.length;return n?Se(e,1,n):[]}function ch(e,n,t){return e&&e.length?(n=t||n===s?1:D(n),Se(e,0,n<0?0:n)):[]}function hh(e,n,t){var r=e==null?0:e.length;return r?(n=t||n===s?1:D(n),n=r-n,Se(e,n<0?0:n,r)):[]}function gh(e,n){return e&&e.length?Xt(e,A(n,3),!1,!0):[]}function ph(e,n){return e&&e.length?Xt(e,A(n,3)):[]}var dh=O(function(e){return ln(ne(e,1,X,!0))}),_h=O(function(e){var n=Ie(e);return X(n)&&(n=s),ln(ne(e,1,X,!0),A(n,2))}),vh=O(function(e){var n=Ie(e);return n=typeof n=="function"?n:s,ln(ne(e,1,X,!0),s,n)});function mh(e){return e&&e.length?ln(e):[]}function wh(e,n){return e&&e.length?ln(e,A(n,2)):[]}function Ch(e,n){return n=typeof n=="function"?n:s,e&&e.length?ln(e,s,n):[]}function Mi(e){if(!(e&&e.length))return[];var n=0;return e=rn(e,function(t){if(X(t))return n=V(t.length,n),!0}),kr(n,function(t){return q(e,Gr(t))})}function Xu(e,n){if(!(e&&e.length))return[];var t=Mi(e);return n==null?t:q(t,function(r){return pe(n,s,r)})}var yh=O(function(e,n){return X(e)?at(e,n):[]}),xh=O(function(e){return li(rn(e,X))}),Th=O(function(e){var n=Ie(e);return X(n)&&(n=s),li(rn(e,X),A(n,2))}),Eh=O(function(e){var n=Ie(e);return n=typeof n=="function"?n:s,li(rn(e,X),s,n)}),Mh=O(Mi);function Ah(e,n){return gu(e||[],n||[],ot)}function Sh(e,n){return gu(e||[],n||[],ct)}var Ih=O(function(e){var n=e.length,t=n>1?e[n-1]:s;return t=typeof t=="function"?(e.pop(),t):s,Xu(e,t)});function Zu(e){var n=u(e);return n.__chain__=!0,n}function Rh(e,n){return n(e),e}function ir(e,n){return n(e)}var Lh=Ze(function(e){var n=e.length,t=n?e[0]:0,r=this.__wrapped__,i=function(o){return Zr(o,e)};return n>1||this.__actions__.length||!(r instanceof F)||!Qe(t)?this.thru(i):(r=r.slice(t,+t+(n?1:0)),r.__actions__.push({func:ir,args:[i],thisArg:s}),new Me(r,this.__chain__).thru(function(o){return n&&!o.length&&o.push(s),o}))});function Ph(){return Zu(this)}function Dh(){return new Me(this.value(),this.__chain__)}function bh(){this.__values__===s&&(this.__values__=fo(this.value()));var e=this.__index__>=this.__values__.length,n=e?s:this.__values__[this.__index__++];return{done:e,value:n}}function Oh(){return this}function Wh(e){for(var n,t=this;t instanceof Ht;){var r=Hu(t);r.__index__=0,r.__values__=s,n?i.__wrapped__=r:n=r;var i=r;t=t.__wrapped__}return i.__wrapped__=e,n}function Bh(){var e=this.__wrapped__;if(e instanceof F){var n=e;return this.__actions__.length&&(n=new F(this)),n=n.reverse(),n.__actions__.push({func:ir,args:[Ei],thisArg:s}),new Me(n,this.__chain__)}return this.thru(Ei)}function Fh(){return hu(this.__wrapped__,this.__actions__)}var Uh=Zt(function(e,n,t){N.call(e,t)?++e[t]:Je(e,t,1)});function Gh(e,n,t){var r=P(e)?Ms:Rf;return t&&se(e,n,t)&&(n=s),r(e,A(n,3))}function zh(e,n){var t=P(e)?rn:Xs;return t(e,A(n,3))}var Nh=Tu($u),kh=Tu(qu);function Hh(e,n){return ne(sr(e,n),1)}function $h(e,n){return ne(sr(e,n),dn)}function qh(e,n,t){return t=t===s?1:D(t),ne(sr(e,n),t)}function Qu(e,n){var t=P(e)?Te:an;return t(e,A(n,3))}function Vu(e,n){var t=P(e)?ll:Js;return t(e,A(n,3))}var Kh=Zt(function(e,n,t){N.call(e,t)?e[t].push(n):Je(e,t,[n])});function Yh(e,n,t,r){e=le(e)?e:$n(e),t=t&&!r?D(t):0;var i=e.length;return t<0&&(t=V(i+t,0)),fr(e)?t<=i&&e.indexOf(n,t)>-1:!!i&&Dn(e,n,t)>-1}var Jh=O(function(e,n,t){var r=-1,i=typeof n=="function",o=le(e)?d(e.length):[];return an(e,function(f){o[++r]=i?pe(n,f,t):lt(f,n,t)}),o}),Xh=Zt(function(e,n,t){Je(e,t,n)});function sr(e,n){var t=P(e)?q:nu;return t(e,A(n,3))}function Zh(e,n,t,r){return e==null?[]:(P(n)||(n=n==null?[]:[n]),t=r?s:t,P(t)||(t=t==null?[]:[t]),su(e,n,t))}var Qh=Zt(function(e,n,t){e[t?0:1].push(n)},function(){return[[],[]]});function Vh(e,n,t){var r=P(e)?Fr:Rs,i=arguments.length<3;return r(e,A(n,4),t,i,an)}function jh(e,n,t){var r=P(e)?fl:Rs,i=arguments.length<3;return r(e,A(n,4),t,i,Js)}function eg(e,n){var t=P(e)?rn:Xs;return t(e,ar(A(n,3)))}function ng(e){var n=P(e)?$s:Yf;return n(e)}function tg(e,n,t){(t?se(e,n,t):n===s)?n=1:n=D(n);var r=P(e)?Ef:Jf;return r(e,n)}function rg(e){var n=P(e)?Mf:Zf;return n(e)}function ig(e){if(e==null)return 0;if(le(e))return fr(e)?On(e):e.length;var n=re(e);return n==Pe||n==De?e.size:ti(e).length}function sg(e,n,t){var r=P(e)?Ur:Qf;return t&&se(e,n,t)&&(n=s),r(e,A(n,3))}var ug=O(function(e,n){if(e==null)return[];var t=n.length;return t>1&&se(e,n[0],n[1])?n=[]:t>2&&se(n[0],n[1],n[2])&&(n=[n[0]]),su(e,ne(n,1),[])}),ur=Gl||function(){return ee.Date.now()};function og(e,n){if(typeof n!="function")throw new Ee(E);return e=D(e),function(){if(--e<1)return n.apply(this,arguments)}}function ju(e,n,t){return n=t?s:n,n=e&&n==null?e.length:n,Xe(e,$e,s,s,s,s,n)}function eo(e,n){var t;if(typeof n!="function")throw new Ee(E);return e=D(e),function(){return--e>0&&(t=n.apply(this,arguments)),e<=1&&(n=s),t}}var Ai=O(function(e,n,t){var r=ye;if(t.length){var i=un(t,kn(Ai));r|=Ge}return Xe(e,r,n,t,i)}),no=O(function(e,n,t){var r=ye|pn;if(t.length){var i=un(t,kn(no));r|=Ge}return Xe(n,r,e,t,i)});function to(e,n,t){n=t?s:n;var r=Xe(e,Ue,s,s,s,s,s,n);return r.placeholder=to.placeholder,r}function ro(e,n,t){n=t?s:n;var r=Xe(e,Sn,s,s,s,s,s,n);return r.placeholder=ro.placeholder,r}function io(e,n,t){var r,i,o,f,c,p,m=0,w=!1,C=!1,x=!0;if(typeof e!="function")throw new Ee(E);n=Re(n)||0,K(t)&&(w=!!t.leading,C="maxWait"in t,o=C?V(Re(t.maxWait)||0,n):o,x="trailing"in t?!!t.trailing:x);function M(Z){var Be=r,en=i;return r=i=s,m=Z,f=e.apply(en,Be),f}function S(Z){return m=Z,c=pt(B,n),w?M(Z):f}function b(Z){var Be=Z-p,en=Z-m,Eo=n-Be;return C?te(Eo,o-en):Eo}function I(Z){var Be=Z-p,en=Z-m;return p===s||Be>=n||Be<0||C&&en>=o}function B(){var Z=ur();if(I(Z))return U(Z);c=pt(B,b(Z))}function U(Z){return c=s,x&&r?M(Z):(r=i=s,f)}function me(){c!==s&&pu(c),m=0,r=p=i=c=s}function ue(){return c===s?f:U(ur())}function we(){var Z=ur(),Be=I(Z);if(r=arguments,i=this,p=Z,Be){if(c===s)return S(p);if(C)return pu(c),c=pt(B,n),M(p)}return c===s&&(c=pt(B,n)),f}return we.cancel=me,we.flush=ue,we}var ag=O(function(e,n){return Ys(e,1,n)}),lg=O(function(e,n,t){return Ys(e,Re(n)||0,t)});function fg(e){return Xe(e,vr)}function or(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new Ee(E);var t=function(){var r=arguments,i=n?n.apply(this,r):r[0],o=t.cache;if(o.has(i))return o.get(i);var f=e.apply(this,r);return t.cache=o.set(i,f)||o,f};return t.cache=new(or.Cache||Ye),t}or.Cache=Ye;function ar(e){if(typeof e!="function")throw new Ee(E);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}function cg(e){return eo(2,e)}var hg=Vf(function(e,n){n=n.length==1&&P(n[0])?q(n[0],de(A())):q(ne(n,1),de(A()));var t=n.length;return O(function(r){for(var i=-1,o=te(r.length,t);++i<o;)r[i]=n[i].call(this,r[i]);return pe(e,this,r)})}),Si=O(function(e,n){var t=un(n,kn(Si));return Xe(e,Ge,s,n,t)}),so=O(function(e,n){var t=un(n,kn(so));return Xe(e,In,s,n,t)}),gg=Ze(function(e,n){return Xe(e,Yn,s,s,s,n)});function pg(e,n){if(typeof e!="function")throw new Ee(E);return n=n===s?n:D(n),O(e,n)}function dg(e,n){if(typeof e!="function")throw new Ee(E);return n=n==null?0:V(D(n),0),O(function(t){var r=t[n],i=cn(t,0,n);return r&&sn(i,r),pe(e,this,i)})}function _g(e,n,t){var r=!0,i=!0;if(typeof e!="function")throw new Ee(E);return K(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),io(e,n,{leading:r,maxWait:n,trailing:i})}function vg(e){return ju(e,1)}function mg(e,n){return Si(ci(n),e)}function wg(){if(!arguments.length)return[];var e=arguments[0];return P(e)?e:[e]}function Cg(e){return Ae(e,nn)}function yg(e,n){return n=typeof n=="function"?n:s,Ae(e,nn,n)}function xg(e){return Ae(e,Y|nn)}function Tg(e,n){return n=typeof n=="function"?n:s,Ae(e,Y|nn,n)}function Eg(e,n){return n==null||Ks(e,n,j(n))}function We(e,n){return e===n||e!==e&&n!==n}var Mg=er(jr),Ag=er(function(e,n){return e>=n}),En=Vs(function(){return arguments}())?Vs:function(e){return J(e)&&N.call(e,"callee")&&!Us.call(e,"callee")},P=d.isArray,Sg=ws?de(ws):Wf;function le(e){return e!=null&&lr(e.length)&&!Ve(e)}function X(e){return J(e)&&le(e)}function Ig(e){return e===!0||e===!1||J(e)&&ie(e)==Jn}var hn=Nl||Ui,Rg=Cs?de(Cs):Bf;function Lg(e){return J(e)&&e.nodeType===1&&!dt(e)}function Pg(e){if(e==null)return!0;if(le(e)&&(P(e)||typeof e=="string"||typeof e.splice=="function"||hn(e)||Hn(e)||En(e)))return!e.length;var n=re(e);if(n==Pe||n==De)return!e.size;if(gt(e))return!ti(e).length;for(var t in e)if(N.call(e,t))return!1;return!0}function Dg(e,n){return ft(e,n)}function bg(e,n,t){t=typeof t=="function"?t:s;var r=t?t(e,n):s;return r===s?ft(e,n,s,t):!!r}function Ii(e){if(!J(e))return!1;var n=ie(e);return n==yt||n==na||typeof e.message=="string"&&typeof e.name=="string"&&!dt(e)}function Og(e){return typeof e=="number"&&zs(e)}function Ve(e){if(!K(e))return!1;var n=ie(e);return n==xt||n==Yi||n==ea||n==ra}function uo(e){return typeof e=="number"&&e==D(e)}function lr(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=tn}function K(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function J(e){return e!=null&&typeof e=="object"}var oo=ys?de(ys):Uf;function Wg(e,n){return e===n||ni(e,n,mi(n))}function Bg(e,n,t){return t=typeof t=="function"?t:s,ni(e,n,mi(n),t)}function Fg(e){return ao(e)&&e!=+e}function Ug(e){if(yc(e))throw new L(y);return js(e)}function Gg(e){return e===null}function zg(e){return e==null}function ao(e){return typeof e=="number"||J(e)&&ie(e)==Zn}function dt(e){if(!J(e)||ie(e)!=qe)return!1;var n=Bt(e);if(n===null)return!0;var t=N.call(n,"constructor")&&n.constructor;return typeof t=="function"&&t instanceof t&&Dt.call(t)==Wl}var Ri=xs?de(xs):Gf;function Ng(e){return uo(e)&&e>=-tn&&e<=tn}var lo=Ts?de(Ts):zf;function fr(e){return typeof e=="string"||!P(e)&&J(e)&&ie(e)==Vn}function ve(e){return typeof e=="symbol"||J(e)&&ie(e)==Tt}var Hn=Es?de(Es):Nf;function kg(e){return e===s}function Hg(e){return J(e)&&re(e)==jn}function $g(e){return J(e)&&ie(e)==sa}var qg=er(ri),Kg=er(function(e,n){return e<=n});function fo(e){if(!e)return[];if(le(e))return fr(e)?be(e):ae(e);if(tt&&e[tt])return Tl(e[tt]());var n=re(e),t=n==Pe?$r:n==De?Rt:$n;return t(e)}function je(e){if(!e)return e===0?e:0;if(e=Re(e),e===dn||e===-dn){var n=e<0?-1:1;return n*Zo}return e===e?e:0}function D(e){var n=je(e),t=n%1;return n===n?t?n-t:n:0}function co(e){return e?Cn(D(e),0,ze):0}function Re(e){if(typeof e=="number")return e;if(ve(e))return wt;if(K(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=K(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=Ls(e);var t=Aa.test(e);return t||Ia.test(e)?ul(e.slice(2),t?2:8):Ma.test(e)?wt:+e}function ho(e){return ke(e,fe(e))}function Yg(e){return e?Cn(D(e),-tn,tn):e===0?e:0}function z(e){return e==null?"":_e(e)}var Jg=zn(function(e,n){if(gt(n)||le(n)){ke(n,j(n),e);return}for(var t in n)N.call(n,t)&&ot(e,t,n[t])}),go=zn(function(e,n){ke(n,fe(n),e)}),cr=zn(function(e,n,t,r){ke(n,fe(n),e,r)}),Xg=zn(function(e,n,t,r){ke(n,j(n),e,r)}),Zg=Ze(Zr);function Qg(e,n){var t=Gn(e);return n==null?t:qs(t,n)}var Vg=O(function(e,n){e=k(e);var t=-1,r=n.length,i=r>2?n[2]:s;for(i&&se(n[0],n[1],i)&&(r=1);++t<r;)for(var o=n[t],f=fe(o),c=-1,p=f.length;++c<p;){var m=f[c],w=e[m];(w===s||We(w,Bn[m])&&!N.call(e,m))&&(e[m]=o[m])}return e}),jg=O(function(e){return e.push(s,Lu),pe(po,s,e)});function e0(e,n){return As(e,A(n,3),Ne)}function n0(e,n){return As(e,A(n,3),Vr)}function t0(e,n){return e==null?e:Qr(e,A(n,3),fe)}function r0(e,n){return e==null?e:Zs(e,A(n,3),fe)}function i0(e,n){return e&&Ne(e,A(n,3))}function s0(e,n){return e&&Vr(e,A(n,3))}function u0(e){return e==null?[]:Kt(e,j(e))}function o0(e){return e==null?[]:Kt(e,fe(e))}function Li(e,n,t){var r=e==null?s:yn(e,n);return r===s?t:r}function a0(e,n){return e!=null&&bu(e,n,Pf)}function Pi(e,n){return e!=null&&bu(e,n,Df)}var l0=Mu(function(e,n,t){n!=null&&typeof n.toString!="function"&&(n=bt.call(n)),e[n]=t},bi(ce)),f0=Mu(function(e,n,t){n!=null&&typeof n.toString!="function"&&(n=bt.call(n)),N.call(e,n)?e[n].push(t):e[n]=[t]},A),c0=O(lt);function j(e){return le(e)?Hs(e):ti(e)}function fe(e){return le(e)?Hs(e,!0):kf(e)}function h0(e,n){var t={};return n=A(n,3),Ne(e,function(r,i,o){Je(t,n(r,i,o),r)}),t}function g0(e,n){var t={};return n=A(n,3),Ne(e,function(r,i,o){Je(t,i,n(r,i,o))}),t}var p0=zn(function(e,n,t){Yt(e,n,t)}),po=zn(function(e,n,t,r){Yt(e,n,t,r)}),d0=Ze(function(e,n){var t={};if(e==null)return t;var r=!1;n=q(n,function(o){return o=fn(o,e),r||(r=o.length>1),o}),ke(e,_i(e),t),r&&(t=Ae(t,Y|Mn|nn,lc));for(var i=n.length;i--;)ai(t,n[i]);return t});function _0(e,n){return _o(e,ar(A(n)))}var v0=Ze(function(e,n){return e==null?{}:$f(e,n)});function _o(e,n){if(e==null)return{};var t=q(_i(e),function(r){return[r]});return n=A(n),uu(e,t,function(r,i){return n(r,i[0])})}function m0(e,n,t){n=fn(n,e);var r=-1,i=n.length;for(i||(i=1,e=s);++r<i;){var o=e==null?s:e[He(n[r])];o===s&&(r=i,o=t),e=Ve(o)?o.call(e):o}return e}function w0(e,n,t){return e==null?e:ct(e,n,t)}function C0(e,n,t,r){return r=typeof r=="function"?r:s,e==null?e:ct(e,n,t,r)}var vo=Iu(j),mo=Iu(fe);function y0(e,n,t){var r=P(e),i=r||hn(e)||Hn(e);if(n=A(n,4),t==null){var o=e&&e.constructor;i?t=r?new o:[]:K(e)?t=Ve(o)?Gn(Bt(e)):{}:t={}}return(i?Te:Ne)(e,function(f,c,p){return n(t,f,c,p)}),t}function x0(e,n){return e==null?!0:ai(e,n)}function T0(e,n,t){return e==null?e:cu(e,n,ci(t))}function E0(e,n,t,r){return r=typeof r=="function"?r:s,e==null?e:cu(e,n,ci(t),r)}function $n(e){return e==null?[]:Hr(e,j(e))}function M0(e){return e==null?[]:Hr(e,fe(e))}function A0(e,n,t){return t===s&&(t=n,n=s),t!==s&&(t=Re(t),t=t===t?t:0),n!==s&&(n=Re(n),n=n===n?n:0),Cn(Re(e),n,t)}function S0(e,n,t){return n=je(n),t===s?(t=n,n=0):t=je(t),e=Re(e),bf(e,n,t)}function I0(e,n,t){if(t&&typeof t!="boolean"&&se(e,n,t)&&(n=t=s),t===s&&(typeof n=="boolean"?(t=n,n=s):typeof e=="boolean"&&(t=e,e=s)),e===s&&n===s?(e=0,n=1):(e=je(e),n===s?(n=e,e=0):n=je(n)),e>n){var r=e;e=n,n=r}if(t||e%1||n%1){var i=Ns();return te(e+i*(n-e+sl("1e-"+((i+"").length-1))),n)}return si(e,n)}var R0=Nn(function(e,n,t){return n=n.toLowerCase(),e+(t?wo(n):n)});function wo(e){return Di(z(e).toLowerCase())}function Co(e){return e=z(e),e&&e.replace(La,ml).replace(Xa,"")}function L0(e,n,t){e=z(e),n=_e(n);var r=e.length;t=t===s?r:Cn(D(t),0,r);var i=t;return t-=n.length,t>=0&&e.slice(t,i)==n}function P0(e){return e=z(e),e&&fa.test(e)?e.replace(Zi,wl):e}function D0(e){return e=z(e),e&&_a.test(e)?e.replace(Sr,"\\$&"):e}var b0=Nn(function(e,n,t){return e+(t?"-":"")+n.toLowerCase()}),O0=Nn(function(e,n,t){return e+(t?" ":"")+n.toLowerCase()}),W0=xu("toLowerCase");function B0(e,n,t){e=z(e),n=D(n);var r=n?On(e):0;if(!n||r>=n)return e;var i=(n-r)/2;return jt(zt(i),t)+e+jt(Gt(i),t)}function F0(e,n,t){e=z(e),n=D(n);var r=n?On(e):0;return n&&r<n?e+jt(n-r,t):e}function U0(e,n,t){e=z(e),n=D(n);var r=n?On(e):0;return n&&r<n?jt(n-r,t)+e:e}function G0(e,n,t){return t||n==null?n=0:n&&(n=+n),ql(z(e).replace(Ir,""),n||0)}function z0(e,n,t){return(t?se(e,n,t):n===s)?n=1:n=D(n),ui(z(e),n)}function N0(){var e=arguments,n=z(e[0]);return e.length<3?n:n.replace(e[1],e[2])}var k0=Nn(function(e,n,t){return e+(t?"_":"")+n.toLowerCase()});function H0(e,n,t){return t&&typeof t!="number"&&se(e,n,t)&&(n=t=s),t=t===s?ze:t>>>0,t?(e=z(e),e&&(typeof n=="string"||n!=null&&!Ri(n))&&(n=_e(n),!n&&bn(e))?cn(be(e),0,t):e.split(n,t)):[]}var $0=Nn(function(e,n,t){return e+(t?" ":"")+Di(n)});function q0(e,n,t){return e=z(e),t=t==null?0:Cn(D(t),0,e.length),n=_e(n),e.slice(t,t+n.length)==n}function K0(e,n,t){var r=u.templateSettings;t&&se(e,n,t)&&(n=s),e=z(e),n=cr({},n,r,Ru);var i=cr({},n.imports,r.imports,Ru),o=j(i),f=Hr(i,o),c,p,m=0,w=n.interpolate||Et,C="__p += '",x=qr((n.escape||Et).source+"|"+w.source+"|"+(w===Qi?Ea:Et).source+"|"+(n.evaluate||Et).source+"|$","g"),M="//# sourceURL="+(N.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++el+"]")+`
`;e.replace(x,function(I,B,U,me,ue,we){return U||(U=me),C+=e.slice(m,we).replace(Pa,Cl),B&&(c=!0,C+=`' +
__e(`+B+`) +
'`),ue&&(p=!0,C+=`';
`+ue+`;
__p += '`),U&&(C+=`' +
((__t = (`+U+`)) == null ? '' : __t) +
'`),m=we+I.length,I}),C+=`';
`;var S=N.call(n,"variable")&&n.variable;if(!S)C=`with (obj) {
`+C+`
}
`;else if(xa.test(S))throw new L(R);C=(p?C.replace(ua,""):C).replace(oa,"$1").replace(aa,"$1;"),C="function("+(S||"obj")+`) {
`+(S?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(c?", __e = _.escape":"")+(p?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+C+`return __p
}`;var b=xo(function(){return G(o,M+"return "+C).apply(s,f)});if(b.source=C,Ii(b))throw b;return b}function Y0(e){return z(e).toLowerCase()}function J0(e){return z(e).toUpperCase()}function X0(e,n,t){if(e=z(e),e&&(t||n===s))return Ls(e);if(!e||!(n=_e(n)))return e;var r=be(e),i=be(n),o=Ps(r,i),f=Ds(r,i)+1;return cn(r,o,f).join("")}function Z0(e,n,t){if(e=z(e),e&&(t||n===s))return e.slice(0,Os(e)+1);if(!e||!(n=_e(n)))return e;var r=be(e),i=Ds(r,be(n))+1;return cn(r,0,i).join("")}function Q0(e,n,t){if(e=z(e),e&&(t||n===s))return e.replace(Ir,"");if(!e||!(n=_e(n)))return e;var r=be(e),i=Ps(r,be(n));return cn(r,i).join("")}function V0(e,n){var t=$o,r=qo;if(K(n)){var i="separator"in n?n.separator:i;t="length"in n?D(n.length):t,r="omission"in n?_e(n.omission):r}e=z(e);var o=e.length;if(bn(e)){var f=be(e);o=f.length}if(t>=o)return e;var c=t-On(r);if(c<1)return r;var p=f?cn(f,0,c).join(""):e.slice(0,c);if(i===s)return p+r;if(f&&(c+=p.length-c),Ri(i)){if(e.slice(c).search(i)){var m,w=p;for(i.global||(i=qr(i.source,z(Vi.exec(i))+"g")),i.lastIndex=0;m=i.exec(w);)var C=m.index;p=p.slice(0,C===s?c:C)}}else if(e.indexOf(_e(i),c)!=c){var x=p.lastIndexOf(i);x>-1&&(p=p.slice(0,x))}return p+r}function j0(e){return e=z(e),e&&la.test(e)?e.replace(Xi,Sl):e}var ep=Nn(function(e,n,t){return e+(t?" ":"")+n.toUpperCase()}),Di=xu("toUpperCase");function yo(e,n,t){return e=z(e),n=t?s:n,n===s?xl(e)?Ll(e):gl(e):e.match(n)||[]}var xo=O(function(e,n){try{return pe(e,s,n)}catch(t){return Ii(t)?t:new L(t)}}),np=Ze(function(e,n){return Te(n,function(t){t=He(t),Je(e,t,Ai(e[t],e))}),e});function tp(e){var n=e==null?0:e.length,t=A();return e=n?q(e,function(r){if(typeof r[1]!="function")throw new Ee(E);return[t(r[0]),r[1]]}):[],O(function(r){for(var i=-1;++i<n;){var o=e[i];if(pe(o[0],this,r))return pe(o[1],this,r)}})}function rp(e){return If(Ae(e,Y))}function bi(e){return function(){return e}}function ip(e,n){return e==null||e!==e?n:e}var sp=Eu(),up=Eu(!0);function ce(e){return e}function Oi(e){return eu(typeof e=="function"?e:Ae(e,Y))}function op(e){return tu(Ae(e,Y))}function ap(e,n){return ru(e,Ae(n,Y))}var lp=O(function(e,n){return function(t){return lt(t,e,n)}}),fp=O(function(e,n){return function(t){return lt(e,t,n)}});function Wi(e,n,t){var r=j(n),i=Kt(n,r);t==null&&!(K(n)&&(i.length||!r.length))&&(t=n,n=e,e=this,i=Kt(n,j(n)));var o=!(K(t)&&"chain"in t)||!!t.chain,f=Ve(e);return Te(i,function(c){var p=n[c];e[c]=p,f&&(e.prototype[c]=function(){var m=this.__chain__;if(o||m){var w=e(this.__wrapped__),C=w.__actions__=ae(this.__actions__);return C.push({func:p,args:arguments,thisArg:e}),w.__chain__=m,w}return p.apply(e,sn([this.value()],arguments))})}),e}function cp(){return ee._===this&&(ee._=Bl),this}function Bi(){}function hp(e){return e=D(e),O(function(n){return iu(n,e)})}var gp=gi(q),pp=gi(Ms),dp=gi(Ur);function To(e){return Ci(e)?Gr(He(e)):qf(e)}function _p(e){return function(n){return e==null?s:yn(e,n)}}var vp=Au(),mp=Au(!0);function Fi(){return[]}function Ui(){return!1}function wp(){return{}}function Cp(){return""}function yp(){return!0}function xp(e,n){if(e=D(e),e<1||e>tn)return[];var t=ze,r=te(e,ze);n=A(n),e-=ze;for(var i=kr(r,n);++t<e;)n(t);return i}function Tp(e){return P(e)?q(e,He):ve(e)?[e]:ae(ku(z(e)))}function Ep(e){var n=++Ol;return z(e)+n}var Mp=Vt(function(e,n){return e+n},0),Ap=pi("ceil"),Sp=Vt(function(e,n){return e/n},1),Ip=pi("floor");function Rp(e){return e&&e.length?qt(e,ce,jr):s}function Lp(e,n){return e&&e.length?qt(e,A(n,2),jr):s}function Pp(e){return Is(e,ce)}function Dp(e,n){return Is(e,A(n,2))}function bp(e){return e&&e.length?qt(e,ce,ri):s}function Op(e,n){return e&&e.length?qt(e,A(n,2),ri):s}var Wp=Vt(function(e,n){return e*n},1),Bp=pi("round"),Fp=Vt(function(e,n){return e-n},0);function Up(e){return e&&e.length?Nr(e,ce):0}function Gp(e,n){return e&&e.length?Nr(e,A(n,2)):0}return u.after=og,u.ary=ju,u.assign=Jg,u.assignIn=go,u.assignInWith=cr,u.assignWith=Xg,u.at=Zg,u.before=eo,u.bind=Ai,u.bindAll=np,u.bindKey=no,u.castArray=wg,u.chain=Zu,u.chunk=Ic,u.compact=Rc,u.concat=Lc,u.cond=tp,u.conforms=rp,u.constant=bi,u.countBy=Uh,u.create=Qg,u.curry=to,u.curryRight=ro,u.debounce=io,u.defaults=Vg,u.defaultsDeep=jg,u.defer=ag,u.delay=lg,u.difference=Pc,u.differenceBy=Dc,u.differenceWith=bc,u.drop=Oc,u.dropRight=Wc,u.dropRightWhile=Bc,u.dropWhile=Fc,u.fill=Uc,u.filter=zh,u.flatMap=Hh,u.flatMapDeep=$h,u.flatMapDepth=qh,u.flatten=Ku,u.flattenDeep=Gc,u.flattenDepth=zc,u.flip=fg,u.flow=sp,u.flowRight=up,u.fromPairs=Nc,u.functions=u0,u.functionsIn=o0,u.groupBy=Kh,u.initial=Hc,u.intersection=$c,u.intersectionBy=qc,u.intersectionWith=Kc,u.invert=l0,u.invertBy=f0,u.invokeMap=Jh,u.iteratee=Oi,u.keyBy=Xh,u.keys=j,u.keysIn=fe,u.map=sr,u.mapKeys=h0,u.mapValues=g0,u.matches=op,u.matchesProperty=ap,u.memoize=or,u.merge=p0,u.mergeWith=po,u.method=lp,u.methodOf=fp,u.mixin=Wi,u.negate=ar,u.nthArg=hp,u.omit=d0,u.omitBy=_0,u.once=cg,u.orderBy=Zh,u.over=gp,u.overArgs=hg,u.overEvery=pp,u.overSome=dp,u.partial=Si,u.partialRight=so,u.partition=Qh,u.pick=v0,u.pickBy=_o,u.property=To,u.propertyOf=_p,u.pull=Zc,u.pullAll=Ju,u.pullAllBy=Qc,u.pullAllWith=Vc,u.pullAt=jc,u.range=vp,u.rangeRight=mp,u.rearg=gg,u.reject=eg,u.remove=eh,u.rest=pg,u.reverse=Ei,u.sampleSize=tg,u.set=w0,u.setWith=C0,u.shuffle=rg,u.slice=nh,u.sortBy=ug,u.sortedUniq=ah,u.sortedUniqBy=lh,u.split=H0,u.spread=dg,u.tail=fh,u.take=ch,u.takeRight=hh,u.takeRightWhile=gh,u.takeWhile=ph,u.tap=Rh,u.throttle=_g,u.thru=ir,u.toArray=fo,u.toPairs=vo,u.toPairsIn=mo,u.toPath=Tp,u.toPlainObject=ho,u.transform=y0,u.unary=vg,u.union=dh,u.unionBy=_h,u.unionWith=vh,u.uniq=mh,u.uniqBy=wh,u.uniqWith=Ch,u.unset=x0,u.unzip=Mi,u.unzipWith=Xu,u.update=T0,u.updateWith=E0,u.values=$n,u.valuesIn=M0,u.without=yh,u.words=yo,u.wrap=mg,u.xor=xh,u.xorBy=Th,u.xorWith=Eh,u.zip=Mh,u.zipObject=Ah,u.zipObjectDeep=Sh,u.zipWith=Ih,u.entries=vo,u.entriesIn=mo,u.extend=go,u.extendWith=cr,Wi(u,u),u.add=Mp,u.attempt=xo,u.camelCase=R0,u.capitalize=wo,u.ceil=Ap,u.clamp=A0,u.clone=Cg,u.cloneDeep=xg,u.cloneDeepWith=Tg,u.cloneWith=yg,u.conformsTo=Eg,u.deburr=Co,u.defaultTo=ip,u.divide=Sp,u.endsWith=L0,u.eq=We,u.escape=P0,u.escapeRegExp=D0,u.every=Gh,u.find=Nh,u.findIndex=$u,u.findKey=e0,u.findLast=kh,u.findLastIndex=qu,u.findLastKey=n0,u.floor=Ip,u.forEach=Qu,u.forEachRight=Vu,u.forIn=t0,u.forInRight=r0,u.forOwn=i0,u.forOwnRight=s0,u.get=Li,u.gt=Mg,u.gte=Ag,u.has=a0,u.hasIn=Pi,u.head=Yu,u.identity=ce,u.includes=Yh,u.indexOf=kc,u.inRange=S0,u.invoke=c0,u.isArguments=En,u.isArray=P,u.isArrayBuffer=Sg,u.isArrayLike=le,u.isArrayLikeObject=X,u.isBoolean=Ig,u.isBuffer=hn,u.isDate=Rg,u.isElement=Lg,u.isEmpty=Pg,u.isEqual=Dg,u.isEqualWith=bg,u.isError=Ii,u.isFinite=Og,u.isFunction=Ve,u.isInteger=uo,u.isLength=lr,u.isMap=oo,u.isMatch=Wg,u.isMatchWith=Bg,u.isNaN=Fg,u.isNative=Ug,u.isNil=zg,u.isNull=Gg,u.isNumber=ao,u.isObject=K,u.isObjectLike=J,u.isPlainObject=dt,u.isRegExp=Ri,u.isSafeInteger=Ng,u.isSet=lo,u.isString=fr,u.isSymbol=ve,u.isTypedArray=Hn,u.isUndefined=kg,u.isWeakMap=Hg,u.isWeakSet=$g,u.join=Yc,u.kebabCase=b0,u.last=Ie,u.lastIndexOf=Jc,u.lowerCase=O0,u.lowerFirst=W0,u.lt=qg,u.lte=Kg,u.max=Rp,u.maxBy=Lp,u.mean=Pp,u.meanBy=Dp,u.min=bp,u.minBy=Op,u.stubArray=Fi,u.stubFalse=Ui,u.stubObject=wp,u.stubString=Cp,u.stubTrue=yp,u.multiply=Wp,u.nth=Xc,u.noConflict=cp,u.noop=Bi,u.now=ur,u.pad=B0,u.padEnd=F0,u.padStart=U0,u.parseInt=G0,u.random=I0,u.reduce=Vh,u.reduceRight=jh,u.repeat=z0,u.replace=N0,u.result=m0,u.round=Bp,u.runInContext=g,u.sample=ng,u.size=ig,u.snakeCase=k0,u.some=sg,u.sortedIndex=th,u.sortedIndexBy=rh,u.sortedIndexOf=ih,u.sortedLastIndex=sh,u.sortedLastIndexBy=uh,u.sortedLastIndexOf=oh,u.startCase=$0,u.startsWith=q0,u.subtract=Fp,u.sum=Up,u.sumBy=Gp,u.template=K0,u.times=xp,u.toFinite=je,u.toInteger=D,u.toLength=co,u.toLower=Y0,u.toNumber=Re,u.toSafeInteger=Yg,u.toString=z,u.toUpper=J0,u.trim=X0,u.trimEnd=Z0,u.trimStart=Q0,u.truncate=V0,u.unescape=j0,u.uniqueId=Ep,u.upperCase=ep,u.upperFirst=Di,u.each=Qu,u.eachRight=Vu,u.first=Yu,Wi(u,function(){var e={};return Ne(u,function(n,t){N.call(u.prototype,t)||(e[t]=n)}),e}(),{chain:!1}),u.VERSION=h,Te(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){u[e].placeholder=u}),Te(["drop","take"],function(e,n){F.prototype[e]=function(t){t=t===s?1:V(D(t),0);var r=this.__filtered__&&!n?new F(this):this.clone();return r.__filtered__?r.__takeCount__=te(t,r.__takeCount__):r.__views__.push({size:te(t,ze),type:e+(r.__dir__<0?"Right":"")}),r},F.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Te(["filter","map","takeWhile"],function(e,n){var t=n+1,r=t==Ki||t==Xo;F.prototype[e]=function(i){var o=this.clone();return o.__iteratees__.push({iteratee:A(i,3),type:t}),o.__filtered__=o.__filtered__||r,o}}),Te(["head","last"],function(e,n){var t="take"+(n?"Right":"");F.prototype[e]=function(){return this[t](1).value()[0]}}),Te(["initial","tail"],function(e,n){var t="drop"+(n?"":"Right");F.prototype[e]=function(){return this.__filtered__?new F(this):this[t](1)}}),F.prototype.compact=function(){return this.filter(ce)},F.prototype.find=function(e){return this.filter(e).head()},F.prototype.findLast=function(e){return this.reverse().find(e)},F.prototype.invokeMap=O(function(e,n){return typeof e=="function"?new F(this):this.map(function(t){return lt(t,e,n)})}),F.prototype.reject=function(e){return this.filter(ar(A(e)))},F.prototype.slice=function(e,n){e=D(e);var t=this;return t.__filtered__&&(e>0||n<0)?new F(t):(e<0?t=t.takeRight(-e):e&&(t=t.drop(e)),n!==s&&(n=D(n),t=n<0?t.dropRight(-n):t.take(n-e)),t)},F.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},F.prototype.toArray=function(){return this.take(ze)},Ne(F.prototype,function(e,n){var t=/^(?:filter|find|map|reject)|While$/.test(n),r=/^(?:head|last)$/.test(n),i=u[r?"take"+(n=="last"?"Right":""):n],o=r||/^find/.test(n);i&&(u.prototype[n]=function(){var f=this.__wrapped__,c=r?[1]:arguments,p=f instanceof F,m=c[0],w=p||P(f),C=function(B){var U=i.apply(u,sn([B],c));return r&&x?U[0]:U};w&&t&&typeof m=="function"&&m.length!=1&&(p=w=!1);var x=this.__chain__,M=!!this.__actions__.length,S=o&&!x,b=p&&!M;if(!o&&w){f=b?f:new F(this);var I=e.apply(f,c);return I.__actions__.push({func:ir,args:[C],thisArg:s}),new Me(I,x)}return S&&b?e.apply(this,c):(I=this.thru(C),S?r?I.value()[0]:I.value():I)})}),Te(["pop","push","shift","sort","splice","unshift"],function(e){var n=Lt[e],t=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);u.prototype[e]=function(){var i=arguments;if(r&&!this.__chain__){var o=this.value();return n.apply(P(o)?o:[],i)}return this[t](function(f){return n.apply(P(f)?f:[],i)})}}),Ne(F.prototype,function(e,n){var t=u[n];if(t){var r=t.name+"";N.call(Un,r)||(Un[r]=[]),Un[r].push({name:n,func:t})}}),Un[Qt(s,pn).name]=[{name:"wrapper",func:s}],F.prototype.clone=Vl,F.prototype.reverse=jl,F.prototype.value=ef,u.prototype.at=Lh,u.prototype.chain=Ph,u.prototype.commit=Dh,u.prototype.next=bh,u.prototype.plant=Wh,u.prototype.reverse=Bh,u.prototype.toJSON=u.prototype.valueOf=u.prototype.value=Fh,u.prototype.first=u.prototype.head,tt&&(u.prototype[tt]=Oh),u},Wn=Pl();_n?((_n.exports=Wn)._=Wn,Or._=Wn):ee._=Wn}).call(_t)})(pr,pr.exports);pr.exports;class Ho{constructor(a){Mo(this,"DrawTypes",{Polyline:"Polyline",Rect:"Rect",Point:"Point",Circle:"Circle"});this.viewer=a,this.handler=new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas),this.DrawStartEvent=new Cesium.Event,this.DrawEndEvent=new Cesium.Event}active(a){if(Object.keys(this.DrawTypes).includes(a))this.drawType=a,this.positions=[],this.curPositions=[],this.points=[],this.registerEvents(),this.viewer.enableCursorStyle=!1,this.viewer._element.style.cursor="default",this.DrawStartEvent.raiseEvent("开始绘制"),this.createMarker(a);else return}createMarker(a){this.marker=document.createElement("div"),this.marker.innerHTML=`左键点击绘制${a},右键结束绘制`,this.marker.className="draw-marker",this.viewer.cesiumWidget.container.appendChild(this.marker)}destoryMarker(){this.marker&&this.viewer.cesiumWidget.container.removeChild(this.marker),this.marker=null}registerEvents(){this.leftClickEvent(),this.rightClickEvent(),this.mouseMoveEvent()}positionTransfer(a){let s=this.viewer.scene.pickPosition(a);return s||(s=this.viewer.scene.camera.pickEllipsoid(a,this.viewer.scene.globe.ellipsoid)),s}leftClickEvent(){this.handler.setInputAction(a=>{let s=this.positionTransfer(a.position);s&&(this.positions.push(s),this.curPositions.push(s),this.positions.length===1&&this.startDraw(),this.drawType===this.DrawTypes.Polyline&&this.generatePoint(s))},Cesium.ScreenSpaceEventType.LEFT_CLICK)}mouseMoveEvent(){this.handler.setInputAction(a=>{this.marker.style.left=a.endPosition.x+20+"px",this.marker.style.top=a.endPosition.y-20+"px",this.viewer._element.style.cursor="default";let s=this.positionTransfer(a.endPosition);!s||!this.drawEntity||(this.curPositions=[...this.positions,s])},Cesium.ScreenSpaceEventType.MOUSE_MOVE)}rightClickEvent(){this.handler.setInputAction(()=>{if(!this.drawEntity){this.deactive();return}if(this.positions.length<this.minPositionCount){this.deactive();return}switch(this.drawType){case this.DrawTypes.Polyline:this.drawEntity.polyline.positions=this.positions;break;case this.DrawTypes.Rect:this.drawEntity.polygon.hierarchy=new Cesium.PolygonHierarchy(this.getRectFourPoints()),this.drawEntity.polyline.positions=this.getRectFourPoints(),this.positions=this.getRectFourPoints(),this.positions.pop();break;case this.DrawTypes.Circle:this.drawEntity.ellipse.semiMinorAxis=this.getAxis(),this.drawEntity.ellipse.semiMajorAxis=this.getAxis(),this.minPositionCount=2;break}this.deactive()},Cesium.ScreenSpaceEventType.RIGHT_CLICK)}startDraw(){switch(this.drawType){case this.DrawTypes.Point:this.drawEntity=this.generatePoint(this.positions[0]),this.deactive(),this.minPositionCount=1;break;case this.DrawTypes.Polyline:this.generatePolyline(),this.minPositionCount=2;break;case this.DrawTypes.Rect:this.generateRect(),this.minPositionCount=2;break;case this.DrawTypes.Circle:this.generateCircle(),this.minPositionCount=2;break}}generatePoint(a){console.log(a);const s=Cesium.Cartographic.fromCartesian(a);console.log(s);const h=this.viewer.entities.add({Type:this.DrawTypes.Point,position:a,point:{pixelSize:14,color:Cesium.Color.RED}});return this.points.push(h),h}generatePolyline(){this.drawEntity=this.viewer.entities.add({Type:this.DrawTypes.Polyline,polyline:{positions:new Cesium.CallbackProperty(a=>this.curPositions,!1),width:2,material:new Cesium.PolylineDashMaterialProperty({color:Cesium.Color.YELLOW}),clampToGround:!0}})}generateRect(){this.drawEntity=this.viewer.entities.add({Type:this.DrawTypes.Rect,polygon:{hierarchy:new Cesium.CallbackProperty(a=>new Cesium.PolygonHierarchy(this.getRectFourPoints()),!1),material:Cesium.Color.RED.withAlpha(.6),perPositionHeight:!0},polyline:{positions:new Cesium.CallbackProperty(a=>this.getRectFourPoints(),!1),width:1,material:new Cesium.PolylineDashMaterialProperty({color:Cesium.Color.YELLOW}),depthFailMaterial:new Cesium.PolylineDashMaterialProperty({color:Cesium.Color.YELLOW})}})}getRectFourPoints(){if(this.curPositions.length){let a=this.curPositions[0],s=this.curPositions[0];this.curPositions.length>1&&(s=this.curPositions[1]);let h=Cesium.Cartographic.fromCartesian(a),v=Cesium.Cartographic.fromCartesian(s);h.height<0&&(h.height=0),v.height<0&&(v.height=0);let y=this.getRectanglePointsByTwoPoint(h,v),E=[y[0][0],y[0][1],h.height,y[1][0],y[1][1],h.height,y[2][0],y[2][1],h.height,y[3][0],y[3][1],h.height,y[0][0],y[0][1],h.height];return Cesium.Cartesian3.fromDegreesArrayHeights(E)}}getRectanglePointsByTwoPoint(a,s){let h=[Cesium.Math.toDegrees(a.longitude),Cesium.Math.toDegrees(a.latitude)],v=[Cesium.Math.toDegrees(s.longitude),Cesium.Math.toDegrees(s.latitude)],y=[Cesium.Math.toDegrees(a.longitude),Cesium.Math.toDegrees(s.latitude)],E=[Cesium.Math.toDegrees(s.longitude),Cesium.Math.toDegrees(a.latitude)];return[h,y,v,E]}generateCircle(){this.drawEntity=this.viewer.entities.add({position:this.positions[0],ellipse:{height:Ao(this.positions[0]),semiMinorAxis:new Cesium.CallbackProperty(a=>(console.log(this.getAxis()),this.getAxis()),!1),semiMajorAxis:new Cesium.CallbackProperty(a=>(console.log(this.getAxis()),this.getAxis()),!1),material:Cesium.Color.RED.withAlpha(.6)}})}getAxis(){if(this.curPositions.length){let a=this.curPositions[0],s=this.curPositions[0];return this.curPositions.length>1&&(s=this.curPositions[this.curPositions.length-1]),Cesium.Cartesian3.distance(a,s)}}deactive(){let a=[];if(this.drawType===this.DrawTypes.Circle){const s=this.getAxis(),h=e1(this.positions[0]);a=Vp(h,s),a=a.map(v=>{const y=Ao(this.positions[0]);return Cesium.Cartesian3.fromDegrees(v[0],v[1],y)})}this.DrawEndEvent.raiseEvent(this.drawEntity,this.positions,this.drawType,a),this.unRegisterEvents(),this.destoryMarker(),this.drawType=void 0,this.drawEntity=void 0,this.positions=[],this.curPositions=[],this.viewer._element.style.cursor="pointer",this.viewer.enableCursorStyle=!0}unRegisterEvents(){this.handler.removeInputAction(Cesium.ScreenSpaceEventType.RIGHT_CLICK),this.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),this.handler.removeInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE),this.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK)}removeAllDrawEnts(){this.points&&this.points.forEach(a=>{this.viewer.entities.remove(a)}),this.drawEntity&&this.viewer.entities.remove(this.drawEntity),this.points=[],this.drawEntity=null}}class n1{constructor(a,s){const h={modelUrl:"/gltf/redCar.glb",isLoop:!0,isTrail:!0,track:"自由"};this.viewer=a,this.options=Object.assign(h,s),this.animationEntity=null}startRoam(a,s){if(a.length<=1||s<=0)return;this.viewer.clock.shouldAnimate=!0;const{modelUrl:h,isTrail:v,isLoop:y}=this.options,{timeSum:E,times:R}=this.getSiteTime(a,s),W=Cesium.JulianDate.fromDate(new Date),he=Cesium.JulianDate.addSeconds(W,E,new Cesium.JulianDate),ge=new Cesium.TimeIntervalCollection([new Cesium.TimeInterval({start:W,stop:he})]),Y=this.getSampledProperty(R,a,W);this.viewer.clock.startTime=W,this.viewer.clock.stopTime=he,this.viewer.clock.currentTime=W,this.viewer.clock.clockRange=y?Cesium.ClockRange.LOOP_STOP:Cesium.ClockRange.UNBOUNDED,this.animationEntity=this.viewer.entities.add({name:"roam-entity",availability:ge,position:Y,orientation:new Cesium.VelocityOrientationProperty(Y),model:{uri:h,scale:.1},path:{show:v,material:new Cesium.PolylineGlowMaterialProperty({glowPower:.5,color:Cesium.Color.YELLOW}),width:10}}),this.trackCamera()}trackCamera(){const{track:a}=this.options;switch(this.viewer.trackedEntity=null,this.viewer.camera.lookAtTransform(Cesium.Matrix4.IDENTITY),a){case"自由":this.viewer.trackedEntity=this.animationEntity;break;case"第三人称":this.viewer.clock.onTick.addEventListener(this.trackEvent,this);break;case"第一人称":this.viewer.clock.onTick.addEventListener(this.trackEvent,this);break}}trackEvent(){const{track:a}=this.options;let s;a==="第一人称"?s=new Cesium.Cartesian3(-10,10,10):s=new Cesium.Cartesian3(-100,0,50);const h=this.animationEntity.position.getValue(this.viewer.clock.currentTime),v=this.animationEntity.orientation.getValue(this.viewer.clock.currentTime);console.log(v);const y=Cesium.Matrix4.fromRotationTranslation(Cesium.Matrix3.fromQuaternion(v),h);this.viewer.camera.lookAtTransform(y,s)}controlRoam(a){this.viewer.clock.shouldAnimate=!a}destroyRoam(){this.animationEntity&&this.viewer.entities.remove(this.animationEntity),this.animationEntity=null,this.viewer.trackedEntity=null,this.viewer.camera.lookAtTransform(Cesium.Matrix4.IDENTITY),this.viewer.clock.onTick.removeEventListener(this.trackEvent,this)}getSiteTime(a,s){let h=0,v=[];for(let y=0;y<a.length;y++){if(y===0){v.push(0);continue}let E=Cesium.Cartesian3.distance(a[y-1],a[y])/s;h+=E,v.push(h)}return{timeSum:h,times:v}}getSampledProperty(a,s,h){const v=new Cesium.SampledPositionProperty;if(a.length===s.length)return v.setInterpolationOptions({interpolationDegree:3,interpolationAlgorithm:Cesium.HermitePolynomialApproximation}),s.forEach((y,E)=>{const R=a[E],W=Cesium.JulianDate.addSeconds(h,R,new Cesium.JulianDate);v.addSample(W,y)}),v}}var hr=52.35987755982988,oe=3.141592653589793,So=6378245,Io=.006693421622965943,t1=class{static BD09ToGCJ02(l,a){let s=+l-.0065,h=+a-.006,v=Math.sqrt(s*s+h*h)-2e-5*Math.sin(h*hr),y=Math.atan2(h,s)-3e-6*Math.cos(s*hr),E=v*Math.cos(y),R=v*Math.sin(y);return[E,R]}static GCJ02ToBD09(l,a){a=+a,l=+l;let s=Math.sqrt(l*l+a*a)+2e-5*Math.sin(a*hr),h=Math.atan2(a,l)+3e-6*Math.cos(l*hr),v=s*Math.cos(h)+.0065,y=s*Math.sin(h)+.006;return[v,y]}static WGS84ToGCJ02(l,a){if(a=+a,l=+l,this.out_of_china(l,a))return[l,a];{let s=this.delta(l,a);return[l+s[0],a+s[1]]}}static GCJ02ToWGS84(l,a){if(a=+a,l=+l,this.out_of_china(l,a))return[l,a];{let s=this.delta(l,a),h=l+s[0],v=a+s[1];return[l*2-h,a*2-v]}}static delta(l,a){let s=this.transformLng(l-105,a-35),h=this.transformLat(l-105,a-35),v=a/180*oe,y=Math.sin(v);y=1-Io*y*y;let E=Math.sqrt(y);return s=s*180/(So/E*Math.cos(v)*oe),h=h*180/(So*(1-Io)/(y*E)*oe),[s,h]}static transformLng(l,a){a=+a,l=+l;let s=300+l+2*a+.1*l*l+.1*l*a+.1*Math.sqrt(Math.abs(l));return s+=(20*Math.sin(6*l*oe)+20*Math.sin(2*l*oe))*2/3,s+=(20*Math.sin(l*oe)+40*Math.sin(l/3*oe))*2/3,s+=(150*Math.sin(l/12*oe)+300*Math.sin(l/30*oe))*2/3,s}static transformLat(l,a){a=+a,l=+l;let s=-100+2*l+3*a+.2*a*a+.1*l*a+.2*Math.sqrt(Math.abs(l));return s+=(20*Math.sin(6*l*oe)+20*Math.sin(2*l*oe))*2/3,s+=(20*Math.sin(a*oe)+40*Math.sin(a/3*oe))*2/3,s+=(160*Math.sin(a/12*oe)+320*Math.sin(a*oe/30))*2/3,s}static out_of_china(l,a){return a=+a,l=+l,!(l>73.66&&l<135.05&&a>3.86&&a<53.55)}},Kn=t1,r1=class extends Cesium.WebMercatorTilingScheme{constructor(l){super(l);let a=new Cesium.WebMercatorProjection;this._projection.project=function(s,h){return h=Kn.WGS84ToGCJ02(Cesium.Math.toDegrees(s.longitude),Cesium.Math.toDegrees(s.latitude)),h=a.project(new Cesium.Cartographic(Cesium.Math.toRadians(h[0]),Cesium.Math.toRadians(h[1]))),new Cesium.Cartesian2(h.x,h.y)},this._projection.unproject=function(s,h){let v=a.unproject(s);return h=Kn.GCJ02ToWGS84(Cesium.Math.toDegrees(v.longitude),Cesium.Math.toDegrees(v.latitude)),new Cesium.Cartographic(Cesium.Math.toRadians(h[0]),Cesium.Math.toRadians(h[1]))}}},$i=r1,Ro={img:"//webst{s}.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",elec:"//webrd{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}",cva:"//webst{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}"},i1=class extends Cesium.UrlTemplateImageryProvider{constructor(l={}){l.url=l.url||[l.protocol||"",Ro[l.style]||Ro.elec].join(""),(!l.subdomains||!l.subdomains.length)&&(l.subdomains=["01","02","03","04"]),l.crs==="WGS84"&&(l.tilingScheme=new $i),super(l)}},Lo=i1,s1=637099681e-2,Po=[1289059486e-2,836237787e-2,5591021,348198983e-2,167804312e-2,0],gr=[75,60,45,30,15,0],u1=[[1410526172116255e-23,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,173379812e-1],[-7435856389565537e-24,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,1026014486e-2],[-3030883460898826e-23,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,685681737e-2],[-1981981304930552e-23,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,448277706e-2],[309191371068437e-23,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,25551644e-1],[2890871144776878e-24,8983055095805407e-21,-3068298e-14,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],Do=[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,6477955746671607e-7,-4082003173641316e-6,1077490566351142e-5,-1517187553151559e-5,1205306533862167e-5,-5124939663577472e-6,9133119359512032e-7,67.5],[.00337398766765,111320.7020202162,4481351045890365e-9,-2339375119931662e-8,7968221547186455e-8,-1159649932797253e-7,9723671115602145e-8,-4366194633752821e-8,8477230501135234e-9,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837749470245e-9,992013.7397791013,-122195221711287e-8,1340652697009075e-9,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758690035394e-9,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]],o1=class{constructor(){this.isWgs84=!1}getDistanceByMC(l,a){if(!l||!a||(l=this.convertMC2LL(l),!l))return 0;let s=this.toRadians(l.lng),h=this.toRadians(l.lat);if(a=this.convertMC2LL(a),!a)return 0;let v=this.toRadians(a.lng),y=this.toRadians(a.lat);return this.getDistance(s,v,h,y)}getDistanceByLL(l,a){if(!l||!a)return 0;l.lng=this.getLoop(l.lng,-180,180),l.lat=this.getRange(l.lat,-74,74),a.lng=this.getLoop(a.lng,-180,180),a.lat=this.getRange(a.lat,-74,74);let s=this.toRadians(l.lng),h=this.toRadians(l.lat),v=this.toRadians(a.lng),y=this.toRadians(a.lat);return this.getDistance(s,v,h,y)}convertMC2LL(l){if(!l)return{lng:0,lat:0};let a={};if(this.isWgs84){a.lng=l.lng/2003750834e-2*180;let v=l.lat/2003750834e-2*180;return a.lat=180/Math.PI*(2*Math.atan(Math.exp(v*Math.PI/180))-Math.PI/2),{lng:a.lng.toFixed(6),lat:a.lat.toFixed(6)}}let s={lng:Math.abs(l.lng),lat:Math.abs(l.lat)},h;for(let v=0;v<Po.length;v++)if(s.lat>=Po[v]){h=u1[v];break}return a=this.convertor(l,h),{lng:a.lng.toFixed(6),lat:a.lat.toFixed(6)}}convertLL2MC(l){if(!l)return{lng:0,lat:0};if(l.lng>180||l.lng<-180||l.lat>90||l.lat<-90)return l;if(this.isWgs84){let v={},y=6378137;v.lng=l.lng*Math.PI/180*y;let E=l.lat*Math.PI/180;return v.lat=y/2*Math.log((1+Math.sin(E))/(1-Math.sin(E))),{lng:parseFloat(v.lng.toFixed(2)),lat:parseFloat(v.lat.toFixed(2))}}l.lng=this.getLoop(l.lng,-180,180),l.lat=this.getRange(l.lat,-74,74);let a={lng:l.lng,lat:l.lat},s;for(let v=0;v<gr.length;v++)if(a.lat>=gr[v]){s=Do[v];break}if(!s){for(let v=0;v<gr.length;v++)if(a.lat<=-gr[v]){s=Do[v];break}}let h=this.convertor(l,s);return{lng:parseFloat(h.lng.toFixed(2)),lat:parseFloat(h.lat.toFixed(2))}}convertor(l,a){if(!l||!a)return{lng:0,lat:0};let s=a[0]+a[1]*Math.abs(l.lng),h=Math.abs(l.lat)/a[9],v=a[2]+a[3]*h+a[4]*h*h+a[5]*h*h*h+a[6]*h*h*h*h+a[7]*h*h*h*h*h+a[8]*h*h*h*h*h*h;return s*=l.lng<0?-1:1,v*=l.lat<0?-1:1,{lng:s,lat:v}}getDistance(l,a,s,h){return s1*Math.acos(Math.sin(s)*Math.sin(h)+Math.cos(s)*Math.cos(h)*Math.cos(a-l))}toRadians(l){return Math.PI*l/180}toDegrees(l){return 180*l/Math.PI}getRange(l,a,s){return a!=null&&(l=Math.max(l,a)),s!=null&&(l=Math.min(l,s)),l}getLoop(l,a,s){for(;l>s;)l-=s-a;for(;l<a;)l+=s-a;return l}lngLatToMercator(l){return this.convertLL2MC(l)}lngLatToPoint(l){let a=this.convertLL2MC(l);return{x:a.lng,y:a.lat}}mercatorToLngLat(l){return this.convertMC2LL(l)}pointToLngLat(l){let a={lng:l.x,lat:l.y};return this.convertMC2LL(a)}pointToPixel(l,a,s,h){if(!l)return;l=this.lngLatToMercator(l);let v=this.getZoomUnits(a),y=Math.round((l.lng-s.lng)/v+h.width/2),E=Math.round((s.lat-l.lat)/v+h.height/2);return{x:y,y:E}}pixelToPoint(l,a,s,h){if(!l)return;let v=this.getZoomUnits(a),y=s.lng+v*(l.x-h.width/2),E=s.lat-v*(l.y-h.height/2),R={lng:y,lat:E};return this.mercatorToLngLat(R)}getZoomUnits(l){return Math.pow(2,18-l)}},a1=o1,l1=class extends Cesium.WebMercatorTilingScheme{constructor(l){super(l);let a=new a1;this._projection.project=function(s,h){return h=h||{},h=Kn.WGS84ToGCJ02(Cesium.Math.toDegrees(s.longitude),Cesium.Math.toDegrees(s.latitude)),h=Kn.GCJ02ToBD09(h[0],h[1]),h[0]=Math.min(h[0],180),h[0]=Math.max(h[0],-180),h[1]=Math.min(h[1],74.000022),h[1]=Math.max(h[1],-71.988531),h=a.lngLatToPoint({lng:h[0],lat:h[1]}),new Cesium.Cartesian2(h.x,h.y)},this._projection.unproject=function(s,h){return h=h||{},h=a.mercatorToLngLat({lng:s.x,lat:s.y}),h=Kn.BD09ToGCJ02(h.lng,h.lat),h=Kn.GCJ02ToWGS84(h[0],h[1]),new Cesium.Cartographic(Cesium.Math.toRadians(h[0]),Cesium.Math.toRadians(h[1]))},this.resolutions=l.resolutions||[]}tileXYToNativeRectangle(l,a,s,h){let v=this.resolutions[s],y=l*v,E=(l+1)*v,R=((a=-a)+1)*v,W=a*v;return Cesium.defined(h)?(h.west=y,h.south=W,h.east=E,h.north=R,h):new Cesium.Rectangle(y,W,E,R)}positionToTileXY(l,a,s){let h=this._rectangle;if(!Cesium.Rectangle.contains(h,l))return;let v=this._projection.project(l);if(!Cesium.defined(v))return;let y=this.resolutions[a],E=Math.floor(v.x/y),R=-Math.floor(v.y/y);return Cesium.defined(s)?(s.x=E,s.y=R,s):new Cesium.Cartesian2(E,R)}},f1=l1,bo={img:"//shangetu{s}.map.bdimg.com/it/u=x={x};y={y};z={z};v=009;type=sate&fm=46",vec:"//online{s}.map.bdimg.com/tile/?qt=tile&x={x}&y={y}&z={z}&styles=sl&v=020",custom:"//api{s}.map.bdimg.com/customimage/tile?&x={x}&y={y}&z={z}&scale=1&customid={style}",traffic:"//its.map.baidu.com:8002/traffic/TrafficTileService?time={time}&label={labelStyle}&v=016&level={z}&x={x}&y={y}&scaler=2"},c1=class extends Cesium.UrlTemplateImageryProvider{constructor(l={}){if(l.url=l.url||[l.protocol||"",bo[l.style]||bo.custom].join(""),l.crs==="WGS84"){let a=[];for(let s=0;s<19;s++)a[s]=256*Math.pow(2,18-s);l.tilingScheme=new f1({resolutions:a,rectangleSouthwestInMeters:new Cesium.Cartesian2(-2003772637e-2,-1247410417e-2),rectangleNortheastInMeters:new Cesium.Cartesian2(2003772637e-2,1247410417e-2)})}else l.tilingScheme=new Cesium.WebMercatorTilingScheme({rectangleSouthwestInMeters:new Cesium.Cartesian2(-33554054,-33746824),rectangleNortheastInMeters:new Cesium.Cartesian2(33554054,33746824)});l.maximumLevel=18,super(l),this._rectangle=this._tilingScheme.rectangle,this._url=l.url,this._crs=l.crs||"BD09",this._style=l.style||"normal"}requestImage(l,a,s){let h=this._tilingScheme.getNumberOfXTilesAtLevel(s),v=this._tilingScheme.getNumberOfYTilesAtLevel(s),y=this._url.replace("{z}",s).replace("{s}",String(1)).replace("{style}",this._style);return this._crs==="WGS84"?y=y.replace("{x}",String(l)).replace("{y}",String(-a)):y=y.replace("{x}",String(l-h/2)).replace("{y}",String(v/2-a-1)),Cesium.ImageryProvider.loadImage(this,y)}},Oo=c1,h1="//tiles{s}.geovisearth.com/base/v1/{style}/{z}/{x}/{y}?format={format}&tmsIds=w&token={key}",g1=class extends Cesium.UrlTemplateImageryProvider{constructor(l={}){l.url=l.url||[l.protocol||"",h1.replace(/\{style\}/g,l.style||"vec").replace(/\{format\}/g,l.format||"png").replace(/\{key\}/g,l.key||"")].join(""),l.subdomains=l.subdomains||["1","2","3"],super(l)}},Wo=g1,Bo={img:"https://gac-geo.googlecnapps.cn/maps/vt?lyrs=s&x={x}&y={y}&z={z}",elec:"https://gac-geo.googlecnapps.cn/maps/vt?lyrs=m&x={x}&y={y}&z={z}",cva:"https://gac-geo.googlecnapps.cn/maps/vt?lyrs=h&x={x}&y={y}&z={z}",ter:"https://gac-geo.googlecnapps.cn/maps/vt?lyrs=t@131,r&x={x}&y={y}&z={z}",img_cva:"https://gac-geo.googlecnapps.cn/maps/vt?lyrs=y&x={x}&y={y}&z={z}"},p1=class extends Cesium.UrlTemplateImageryProvider{constructor(l={}){l.url=l.url||[l.protocol||"",Bo[l.style]||Bo.elec].join(""),l.crs==="WGS84"&&(l.tilingScheme=new $i),super(l)}},Fo=p1,d1="//t{s}.tianditu.gov.cn/DataServer?T={style}_w&x={x}&y={y}&l={z}&tk={key}",_1=class extends Cesium.UrlTemplateImageryProvider{constructor(l={}){super({url:[l.protocol||"",d1.replace(/\{style\}/g,l.style||"vec").replace(/\{key\}/g,l.key||"")].join(""),subdomains:["0","1","2","3","4","5","6","7"],maximumLevel:18})}},Uo=_1,Go={img:"//p{s}.map.gtimg.com/sateTiles/{z}/{sx}/{sy}/{x}_{reverseY}.jpg?version=400",elec:"//rt{s}.map.gtimg.com/tile?z={z}&x={x}&y={reverseY}&styleid={style}&scene=0&version=347"},v1=class extends Cesium.UrlTemplateImageryProvider{constructor(l={}){let a=l.url||[l.protocol||"",Go[l.style]||Go.elec].join("");l.url=a.replace("{style}",l.style||"1"),(!l.subdomains||!l.subdomains.length)&&(l.subdomains=["0","1","2"]),l.style==="img"&&(l.customTags={sx:(s,h,v,y)=>h>>4,sy:(s,h,v,y)=>(1<<y)-1-v>>4}),l.crs==="WGS84"&&(l.tilingScheme=new $i),super(l)}},dr=v1,m1=class extends Cesium.GeographicTilingScheme{constructor(l={}){super(l),this._origin=l.origin||[-180,90],this._zoomOffset=l.zoomOffset||0,this._tileSize=l.tileSize||256,this._resolutions=l.resolutions||[]}get zoomOffset(){return this._zoomOffset}tileXYToRectangle(l,a,s,h){if(!this._resolutions||!this._resolutions[s+this._zoomOffset])return Cesium.Rectangle.MAX_VALUE;let v=this._resolutions[s+this._zoomOffset]*this._tileSize,y=Cesium.Math.toRadians(this._origin[0]+l*v),E=Cesium.Math.toRadians(this._origin[1]-(a+1)*v),R=Cesium.Math.toRadians(this._origin[0]+(l+1)*v),W=Cesium.Math.toRadians(this._origin[1]-a*v);return Cesium.defined(h)?(h.west=y,h.south=E,h.east=R,h.north=W,h):new Cesium.Rectangle(y,E,R,W)}positionToTileXY(l,a,s){if(!this._resolutions||!this._resolutions[a+this._zoomOffset])return new Cesium.Cartesian2;let h=this._resolutions[a+this._zoomOffset]*this._tileSize,v=Cesium.Math.toDegrees(l.longitude),y=Cesium.Math.toDegrees(l.latitude),E=Math.floor((v-this._origin[0])/h),R=Math.floor((this._origin[1]-y)/h);return Cesium.defined(s)?(s.x=E,s.y=R,s):new Cesium.Cartesian2(Math.max(0,E),Math.max(0,R))}},zo=m1,w1=class extends Cesium.WebMercatorTilingScheme{constructor(l={}){super(l),this._origin=l.origin||[-200375083427892e-7,200375083427892e-7],this._zoomOffset=l.zoomOffset||0,this._tileSize=l.tileSize||256,this._resolutions=l.resolutions||[]}get zoomOffset(){return this._zoomOffset}tileXYToNativeRectangle(l,a,s,h){if(!this._resolutions||!this._resolutions[s+this._zoomOffset]||l<0||a<0)return Cesium.Rectangle.MAX_VALUE;let v=this._resolutions[s+this._zoomOffset]*this._tileSize,y=this._origin[0]+l*v,E=this._origin[1]-(a+1)*v,R=this._origin[0]+(l+1)*v,W=this._origin[1]-a*v;return Cesium.defined(h)?(h.west=y,h.south=E,h.east=R,h.north=W,h):new Cesium.Rectangle(y,E,R,W)}positionToTileXY(l,a,s){let h=this._rectangle;if(!Cesium.Rectangle.contains(h,l))return;if(!this._resolutions||!this._resolutions[a+this._zoomOffset])return new Cesium.Cartesian2;let v=this._resolutions[a+this._zoomOffset]*this._tileSize,y=this._projection.project(l),E=Math.floor((y.x-this._origin[0])/v),R=Math.floor((this._origin[1]-y.y)/v);return Cesium.defined(s)?(s.x=E,s.y=R,s):new Cesium.Cartesian2(Math.max(0,E),Math.max(0,R))}},No=w1;window&&window.Cesium&&(Object.isFrozen(window.Cesium)?(window.AMapImageryProvider=Lo,window.BaiduImageryProvider=Oo,window.GeoVisImageryProvider=Wo,window.GoogleImageryProvider=Fo,window.TdtImageryProvider=Uo,window.TencentImageryProvider=dr,window.CustomGeographicTilingScheme=zo,window.CustomMercatorTilingScheme=No):(window.Cesium.AMapImageryProvider=Lo,window.Cesium.BaiduImageryProvider=Oo,window.Cesium.GeoVisImageryProvider=Wo,window.Cesium.GoogleImageryProvider=Fo,window.Cesium.TdtImageryProvider=Uo,window.Cesium.TencentImageryProvider=dr,window.Cesium.CustomGeographicTilingScheme=zo,window.Cesium.CustomMercatorTilingScheme=No));const C1={class:"container"},y1={class:"btns"},x1={__name:"Trail",setup(l){const a=Le(null),s=Le(null),h=Le(null),v=Le(5),y=()=>{s.value.active(s.value.DrawTypes.Polyline),s.value.DrawEndEvent.addEventListener((R,W)=>{s.value.removeAllDrawEnts(),W.length>1&&(h.value=W)})},E=()=>{new n1(a.value,{}).startRoam(h.value,v.value)};return Hi(()=>{Cesium.Ion.defaultAccessToken=void 0,Cesium.buildModuleUrl.setBaseUrl("/node_modules/cesium/Build/Cesium/"),a.value=new Cesium.Viewer("cesiumContainer",{timeline:!1,animation:!1,baseLayerPicker:!1,homeButton:!1,fullscreenButton:!1,geocoder:!1,sceneModePicker:!1,navigationHelpButton:!1,shouldAnimate:!0,infoBox:!1,selectionIndicator:!1}),a.value.scene.screenSpaceCameraController.tiltEventTypes=[Cesium.CameraEventType.RIGHT_DRAG],a.value.scene.screenSpaceCameraController.zoomEventType=[Cesium.CameraEventType.MIDDLE_DRAG,Cesium.CameraEventType.WHEEL],a.value.scene.screenSpaceCameraController.rotateEventTypes=[Cesium.CameraEventType.LEFT_DRAG];const R={style:4,crs:"WGS84"};a.value.scene.imageryLayers.addImageryProvider(new dr(R));const W=new Cesium.Cartesian3.fromDegrees(114.3,30.5),he=Cesium.Transforms.eastNorthUpToFixedFrame(W);a.value.scene.primitives.add(new Cesium.Cesium3DTileset({url:"/models/AGI_HQ/tileset.json",modelMatrix:he})).readyPromise.then(Y=>{a.value.zoomTo(Y)}),s.value=new Ho(a.value,{})}),(R,W)=>{const he=ko;return Fe(),gn("div",C1,[W[2]||(W[2]=Ce("div",{id:"cesiumContainer"},null,-1)),Ce("div",y1,[zi(he,{onClick:y},{default:Ni(()=>W[0]||(W[0]=[ki("绘制")])),_:1}),zi(he,{onClick:E},{default:Ni(()=>W[1]||(W[1]=[ki("漫游")])),_:1})])])}}},T1=_r(x1,[["__scopeId","data-v-73440abe"]]);class E1{constructor(a,s,h,v){this.viewer=a,this.tileset=s,this.positions=h,this.flattenHeight=v,this.modelRange=this.getModelPosition()}startFlatten(){const a=`bool pointInPolygon(vec2 p, vec2 points[${this.modelRange.length}]){
        bool inside = false;
        const int length = ${this.modelRange.length};
        for (int i = 0; i < length; i++) {
          float xi = points[i].x;
          float yi = points[i].y;
          float xj;
          float yj;
          if (i == 0) {
            xj = points[length - 1].x;
            yj = points[length - 1].y;
          } else {
            xj = points[i - 1].x;
            yj = points[i - 1].y; 
          }
          bool intersect = ((yi > p.y) != (yj > p.y)) && (p.x < (xj - xi) * (p.y - yi) / (yj - yi) + xi);
          if (intersect) {
            inside = !inside;
          }
        }
        return inside;
      }`,s=new Cesium.CustomShader({uniforms:{u_Height:{type:Cesium.UniformType.FLOAT,value:this.flattenHeight}},vertexShaderText:a+`
            void vertexMain(VertexInput vsInput, inout czm_modelVertexOutput vsOutput) {
                `+this.getStr()+`
                // 当前渲染的模型坐标 positionMC positionEC positionWC--->不精确
                vec3 positionMC=vsInput.attributes.positionMC;
                vec2 modelPosition=vec2(positionMC.x,positionMC.z);
                // 根据算法，计算点是否在多边形内
                bool isInside=pointInPolygon(modelPosition,vs);
                if(isInside){
                    vsOutput.positionMC.y=u_Height;
                }
            }
        `});this.tileset.customShader=s}changeFlattenHeight(a){Number.isNaN(a)||this.tileset.customShader.setUniform("u_Height",a)}clearFlatten(){this.tileset.customShader=null}getModelPosition(){const a=this.tileset.root.computedTransform.clone();console.log(a),console.log(this.tileset._root.transform),console.log(this.tileset.modelMatrix);const s=Cesium.Matrix4.inverseTransformation(a,new Cesium.Matrix4),h=[];return this.positions.forEach(v=>{const y=Cesium.Matrix4.multiplyByPoint(s,v,new Cesium.Cartesian3);console.log(y),h.push([y.x,-y.y])}),h}getStr(){let a="vec2 vs["+this.modelRange.length+`];
`;return this.modelRange.forEach((s,h)=>{a+="vs["+h+"] = vec2("+s[0]+","+s[1]+`);
`}),console.log(a),a}}const M1={class:"container"},A1={class:"btns"},S1={__name:"ModelTransfrom",setup(l){const a=Le(null),s=Le(null),h=Le(null),v=Le(-50),y=Le(null),E=Le(),R=Le(),W=()=>{h.value.active(h.value.DrawTypes.Rect),h.value.DrawEndEvent.addEventListener((ge,Y)=>{h.value.removeAllDrawEnts(),y.value=new E1(a.value,s.value,Y,v.value),y.value.startFlatten()})},he=()=>{E.value=new Jp({container:R.value}),E.value.addBlade({view:"slider",label:"压平高度",min:-100,max:100,value:v.value}).on("change",ge=>{v.value=ge.value,y.value.changeFlattenHeight(v.value)})};return Hi(()=>{he(),Cesium.Ion.defaultAccessToken=void 0,Cesium.buildModuleUrl.setBaseUrl("/node_modules/cesium/Build/Cesium/"),a.value=new Cesium.Viewer("cesiumContainer",{timeline:!1,animation:!1,baseLayerPicker:!1,homeButton:!1,fullscreenButton:!1,geocoder:!1,sceneModePicker:!1,navigationHelpButton:!1,shouldAnimate:!0,infoBox:!1,selectionIndicator:!1}),a.value.scene.screenSpaceCameraController.tiltEventTypes=[Cesium.CameraEventType.RIGHT_DRAG],a.value.scene.screenSpaceCameraController.zoomEventType=[Cesium.CameraEventType.MIDDLE_DRAG,Cesium.CameraEventType.WHEEL],a.value.scene.screenSpaceCameraController.rotateEventTypes=[Cesium.CameraEventType.LEFT_DRAG];const ge={style:4,crs:"WGS84"};a.value.scene.imageryLayers.addImageryProvider(new dr(ge));const Y=new Cesium.Cartesian3.fromDegrees(114.3,30.5),Mn=Cesium.Transforms.eastNorthUpToFixedFrame(Y);s.value=a.value.scene.primitives.add(new Cesium.Cesium3DTileset({url:"/public/models/AGI_HQ/tileset.json",modelMatrix:Mn})),s.value.readyPromise.then(nn=>{a.value.zoomTo(nn)}),h.value=new Ho(a.value,{})}),(ge,Y)=>{const Mn=ko;return Fe(),gn("div",M1,[Y[1]||(Y[1]=Ce("div",{id:"cesiumContainer"},null,-1)),Ce("div",A1,[zi(Mn,{onClick:W},{default:Ni(()=>Y[0]||(Y[0]=[ki("压平区域绘制")])),_:1})]),Ce("div",{ref_key:"paneRef",ref:R,class:"pane"},null,512)])}}},I1=_r(S1,[["__scopeId","data-v-c0014f35"]]),R1={class:"example-list"},L1=["onClick"],P1=["src"],D1={class:"show-window"},b1={key:0},O1={__name:"index",setup(l){const{selectedExample:a,allExampleList:s}=kp(Hp()),h=Le(s.value.map.cesium),v=()=>{h.value.map(y=>{y.key===a.value.key&&y.src&&window.open(y.src,"_blank")})};return(y,E)=>(Fe(),gn("div",null,[Ce("div",R1,[(Fe(!0),gn($p,null,qp(h.value,R=>(Fe(),gn("div",{class:Kp(["example-item",R.key===qn(a).key?"selected":""]),key:R.key,onClick:W=>a.value=R},[Ce("img",{src:R.img},null,8,P1),Ce("span",null,Yp(R.name),1)],10,L1))),128)),E[0]||(E[0]=Ce("p",{class:"example-desc"},"更多案例正在开发中···",-1))]),Ce("div",D1,[qn(a).key?vt("",!0):(Fe(),gn("span",b1,"选择一个示例以展示")),qn(a).key==="basic"?(Fe(),Gi(Qp,{key:1})):vt("",!0),qn(a).key==="trail"?(Fe(),Gi(T1,{key:2})):vt("",!0),qn(a).key==="ModelTransfrom"?(Fe(),Gi(I1,{key:3})):vt("",!0),qn(a).key==="basic"?(Fe(),gn("div",{key:4,class:"example-code-link",onClick:v},E[1]||(E[1]=[Ce("i",{class:"iconfont icon-code"},null,-1),Ce("span",null,"查看源码",-1)]))):vt("",!0)])]))}},k1=_r(O1,[["__scopeId","data-v-ad4ec50f"]]);export{k1 as default};
